# ğŸ´ é£è…¾æ´¾ SDå¡å…‹éš†æ‰¹é‡éƒ¨ç½²æŒ‡å—

**æ ¸å¿ƒç­–ç•¥**: é…ç½®ä¸€å¼ "é»„é‡‘é•œåƒ"SDå¡ï¼Œç„¶åå…‹éš†åˆ°å…¶ä»–4å¼ å¡

**ä¼˜åŠ¿**:
- âš¡ èŠ‚çœæ—¶é—´ï¼š1.5å°æ—¶ vs 5å°æ—¶ï¼ˆé€ä¸ªé…ç½®ï¼‰
- âœ… ç¯å¢ƒä¸€è‡´ï¼šæ‰€æœ‰èŠ‚ç‚¹ä½¿ç”¨å®Œå…¨ç›¸åŒçš„é…ç½®
- ğŸ”„ æ˜“äºç»´æŠ¤ï¼šå¯ä»¥ä¿å­˜é•œåƒæ–‡ä»¶ä½œä¸ºå¤‡ä»½

---

## ğŸ“‹ æ€»ä½“æµç¨‹

```
Step 1: é…ç½®ä¸»å¡ï¼ˆæ´¾1ï¼‰
        â†“ å®‰è£…ç³»ç»Ÿã€ä¾èµ–ã€PQ-Torä»£ç 
        â†“ æµ‹è¯•ç¡®è®¤ä¸€åˆ‡æ­£å¸¸

Step 2: åˆ¶ä½œSDå¡é•œåƒ
        â†“ ä½¿ç”¨ dd æˆ– Win32DiskImager
        â†“ ä¿å­˜ä¸º phytiumpi-golden.img

Step 3: å…‹éš†åˆ°å…¶ä»–4å¼ å¡
        â†“ å†™å…¥é•œåƒåˆ°å¡2ã€å¡3ã€å¡4ã€å¡5

Step 4: ä¿®æ”¹æ¯å¼ å¡çš„ä¸ªæ€§åŒ–é…ç½®
        â†“ ä¸»æœºåã€IPåœ°å€ã€SSHå¯†é’¥
        â†“ ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬: configure_node.sh

Step 5: éªŒè¯å¹¶å¯åŠ¨ç½‘ç»œ
        â†“ 5ä¸ªæ´¾ååŒå·¥ä½œ
```

**é¢„è®¡æ€»æ—¶é—´**: 1.5-2å°æ—¶

---

## ğŸ¯ Step 1: é…ç½®ä¸»å¡ï¼ˆæ´¾1ï¼‰

### 1.1 åŸºç¡€ç³»ç»Ÿå®‰è£…

```bash
# 1. çƒ§å½•é£è…¾æ´¾å®˜æ–¹ç³»ç»Ÿåˆ°ç¬¬ä¸€å¼ SDå¡
# 2. æ’å…¥æ´¾1ï¼Œé¦–æ¬¡å¯åŠ¨
# 3. å®Œæˆåˆå§‹åŒ–ï¼ˆè®¾ç½®ç”¨æˆ·åã€å¯†ç ç­‰ï¼‰
```

### 1.2 é…ç½®é™æ€IPï¼ˆå¯é€‰ï¼Œå»ºè®®å…ˆç”¨DHCPï¼‰

```bash
# å¯ä»¥å…ˆç”¨DHCPï¼Œç­‰å…‹éš†åå†ç»Ÿä¸€é…ç½®é™æ€IP
# æˆ–è€…ç°åœ¨é…ç½®ä¸º 192.168.1.10
```

### 1.3 å®‰è£…æ‰€æœ‰ä¾èµ–

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt-get update && sudo apt-get upgrade -y

# å®‰è£…å¼€å‘å·¥å…·
sudo apt-get install -y build-essential cmake git
sudo apt-get install -y libssl-dev pkg-config

# å®‰è£…å…¶ä»–æœ‰ç”¨çš„å·¥å…·
sudo apt-get install -y vim wget curl htop
```

### 1.4 éƒ¨ç½²PQ-Torç¯å¢ƒ

**ä¼ è¾“éƒ¨ç½²åŒ…**:
```bash
# ä»WSLä¼ è¾“
scp deployment.tar.gz pi@<æ´¾1-IP>:~/

# åœ¨æ´¾1ä¸Šè§£å‹
tar xzf deployment.tar.gz
cd deployment/
```

**è¿è¡Œéƒ¨ç½²è„šæœ¬**:
```bash
# 1. æ£€æŸ¥ç¯å¢ƒ
./check_env.sh
# åº”è¯¥å…¨éƒ¨æ˜¾ç¤º âœ…

# 2. å®‰è£… liboqsï¼ˆé‡è¦ï¼5-10åˆ†é’Ÿï¼‰
./install_deps.sh
# å®Œæˆååº”è¯¥çœ‹åˆ°: âœ… liboqs å®‰è£…æˆåŠŸï¼

# 3. éªŒè¯ Kyber
make && ./test_kyber_simple
# åº”è¯¥çœ‹åˆ°: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼
```

### 1.5 éƒ¨ç½²å®Œæ•´PQ-Torä»£ç 

```bash
# ä¼ è¾“å®Œæ•´ä»£ç 
scp -r /home/ccc/pq-ntor-experiment/c pi@<æ´¾1-IP>:~/pq-tor

# åœ¨æ´¾1ä¸Šç¼–è¯‘
cd ~/pq-tor
make clean && make all

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./test_kyber && echo "âœ… Kyber OK"
./test_crypto && echo "âœ… Crypto OK"
./test_pq_ntor && echo "âœ… PQ-Ntor OK"
./test_cell && echo "âœ… Cell OK"
./test_onion && echo "âœ… Onion OK"

# è¿è¡Œå®Œæ•´ç½‘ç»œæµ‹è¯•ï¼ˆå•æœº5è¿›ç¨‹ï¼‰
./test_network.sh
```

### 1.6 éªŒè¯ä¸»å¡é…ç½®

**æ£€æŸ¥æ¸…å•**:
```bash
â˜ ç³»ç»Ÿå¯åŠ¨æ­£å¸¸
â˜ ç½‘ç»œè¿æ¥æ­£å¸¸
â˜ æ‰€æœ‰ç³»ç»Ÿä¾èµ–å·²å®‰è£…
â˜ liboqs å®‰è£…åœ¨ ~/oqs
â˜ PQ-Tor ä»£ç åœ¨ ~/pq-tor
â˜ æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
â˜ test_network.sh æˆåŠŸ
```

**âœ… ç¡®è®¤æ— è¯¯åï¼Œå…³æœºå‡†å¤‡åˆ¶ä½œé•œåƒ**

```bash
sudo poweroff
```

---

## ğŸ’¾ Step 2: åˆ¶ä½œSDå¡é•œåƒ

### æ–¹å¼A: Linuxä¸Šä½¿ç”¨ ddï¼ˆæ¨èï¼‰

```bash
# 1. å–å‡ºæ´¾1çš„SDå¡ï¼Œæ’å…¥Linuxæœºå™¨
# 2. ç¡®è®¤è®¾å¤‡å
lsblk
# å‡è®¾æ˜¾ç¤ºä¸º /dev/sdbï¼ˆâš ï¸ åŠ¡å¿…ç¡®è®¤æ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½è¦†ç›–æ•°æ®ï¼ï¼‰

# 3. å¸è½½æ‰€æœ‰åˆ†åŒºï¼ˆå¦‚æœå·²æŒ‚è½½ï¼‰
sudo umount /dev/sdb*

# 4. åˆ¶ä½œå®Œæ•´é•œåƒ
sudo dd if=/dev/sdb of=phytiumpi-golden.img bs=4M status=progress conv=fsync

# 5. éªŒè¯é•œåƒ
ls -lh phytiumpi-golden.img
# åº”è¯¥æ˜¾ç¤ºçº¦8-16GBçš„æ–‡ä»¶

# 6. ï¼ˆå¯é€‰ï¼‰å‹ç¼©é•œåƒèŠ‚çœç©ºé—´
gzip phytiumpi-golden.img
# ç»“æœ: phytiumpi-golden.img.gz (çº¦2-4GB)
```

**æ—¶é—´ä¼°ç®—**:
- 8GBå¡ï¼š10-20åˆ†é’Ÿ
- 16GBå¡ï¼š20-40åˆ†é’Ÿ
- å‹ç¼©æ—¶é—´ï¼š5-15åˆ†é’Ÿ

### æ–¹å¼B: Windowsä¸Šä½¿ç”¨å·¥å…·

#### æ¨èå·¥å…·ï¼šWin32DiskImager

**ä¸‹è½½**: https://sourceforge.net/projects/win32diskimager/

**æ“ä½œæ­¥éª¤**:
1. å®‰è£…å¹¶è¿è¡Œ Win32DiskImager
2. å–å‡ºæ´¾1çš„SDå¡ï¼Œæ’å…¥Windowsç”µè„‘ï¼ˆé€šè¿‡è¯»å¡å™¨ï¼‰
3. åœ¨"Device"ä¸‹æ‹‰æ¡†é€‰æ‹©SDå¡ç›˜ç¬¦ï¼ˆå¦‚ E:ï¼‰
4. åœ¨"Image File"ç‚¹å‡»æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œé€‰æ‹©ä¿å­˜ä½ç½®
5. è¾“å…¥æ–‡ä»¶åï¼š`phytiumpi-golden.img`
6. ç‚¹å‡» **"Read"** æŒ‰é’®ï¼ˆè¯»å–ï¼Œä¸æ˜¯Writeï¼ï¼‰
7. ç­‰å¾…è¿›åº¦æ¡å®Œæˆ
8. å®Œæˆåä¼šæç¤º"Read Successful"

#### å…¶ä»–å·¥å…·é€‰é¡¹ï¼š

- **Etcher** (balenaEtcher): ç°ä»£åŒ–UIï¼Œæ”¯æŒå¤‡ä»½å’Œå†™å…¥
- **Rufus**: å¸¸ç”¨Uç›˜å·¥å…·ï¼Œä¹Ÿæ”¯æŒé•œåƒè¯»å†™
- **dd for Windows**: å‘½ä»¤è¡Œå·¥å…·

---

## ğŸ“€ Step 3: å…‹éš†åˆ°å…¶ä»–SDå¡

å‡†å¤‡4å¼ æ–°çš„ç©ºç™½SDå¡ï¼ˆç”¨äºæ´¾2-5ï¼‰ï¼Œå®¹é‡**å¿…é¡»â‰¥ä¸»å¡å®¹é‡**ã€‚

### æ–¹å¼A: Linuxä¸Šå…‹éš†

```bash
# ä¸ºæ¯å¼ å¡é‡å¤ä»¥ä¸‹æ­¥éª¤ï¼ˆå¡2ã€å¡3ã€å¡4ã€å¡5ï¼‰

# 1. æ’å…¥æ–°SDå¡
# 2. ç¡®è®¤è®¾å¤‡å
lsblk

# 3. å¸è½½åˆ†åŒº
sudo umount /dev/sdb*

# 4. å†™å…¥é•œåƒ
# å¦‚æœæ˜¯æœªå‹ç¼©çš„é•œåƒ:
sudo dd if=phytiumpi-golden.img of=/dev/sdb bs=4M status=progress conv=fsync

# å¦‚æœæ˜¯å‹ç¼©çš„é•œåƒ:
gunzip -c phytiumpi-golden.img.gz | sudo dd of=/dev/sdb bs=4M status=progress conv=fsync

# 5. åŒæ­¥ç¼“å­˜
sync

# 6. å®‰å…¨å¼¹å‡º
sudo eject /dev/sdb

# 7. å–å‡ºSDå¡ï¼Œæ’å…¥ä¸‹ä¸€å¼ ï¼Œé‡å¤æ­¥éª¤
```

### æ–¹å¼B: Windowsä¸Šå…‹éš†

ä½¿ç”¨ Win32DiskImager æˆ– Etcherï¼š

**Win32DiskImager**:
1. æ’å…¥æ–°çš„ç©ºç™½SDå¡
2. é€‰æ‹©è®¾å¤‡ç›˜ç¬¦
3. é€‰æ‹©é•œåƒæ–‡ä»¶ `phytiumpi-golden.img`
4. ç‚¹å‡» **"Write"** æŒ‰é’®ï¼ˆå†™å…¥ï¼‰
5. ç¡®è®¤è­¦å‘Šï¼ˆä¼šæ¸…ç©ºSDå¡æ•°æ®ï¼‰
6. ç­‰å¾…å®Œæˆ
7. å®‰å…¨å¼¹å‡ºï¼Œæ¢ä¸‹ä¸€å¼ å¡

**Etcher**:
1. é€‰æ‹©é•œåƒæ–‡ä»¶
2. é€‰æ‹©ç›®æ ‡SDå¡
3. ç‚¹å‡»"Flash!"
4. ç­‰å¾…å®Œæˆ

**é‡å¤4æ¬¡ï¼Œåˆ¶ä½œæ´¾2ã€æ´¾3ã€æ´¾4ã€æ´¾5çš„SDå¡**

---

## âš™ï¸ Step 4: ä¿®æ”¹æ¯å¼ å¡çš„ä¸ªæ€§åŒ–é…ç½®

### ğŸ¯ æ ¸å¿ƒä»»åŠ¡

å…‹éš†åçš„SDå¡éƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œ**å¿…é¡»ä¿®æ”¹**ï¼š
1. **ä¸»æœºå** - ä¾¿äºè¯†åˆ«
2. **IPåœ°å€** - é¿å…å†²çª
3. **SSHå¯†é’¥** - å®‰å…¨æ€§ï¼ˆå¯é€‰ä½†æ¨èï¼‰

### è‡ªåŠ¨åŒ–é…ç½®è„šæœ¬ â­

æˆ‘å·²ç»åˆ›å»ºäº†è‡ªåŠ¨åŒ–è„šæœ¬ `configure_node.sh`ï¼Œç®€åŒ–é…ç½®è¿‡ç¨‹ï¼

**è„šæœ¬åŠŸèƒ½**:
- âœ… è‡ªåŠ¨è®¾ç½®ä¸»æœºå
- âœ… è‡ªåŠ¨é…ç½®é™æ€IP
- âœ… è‡ªåŠ¨é‡æ–°ç”ŸæˆSSHå¯†é’¥
- âœ… è‡ªåŠ¨æ›´æ–° /etc/hosts

### 4.1 ä¼ è¾“é…ç½®è„šæœ¬

åœ¨ä¸»å¡é…ç½®æ—¶å·²åŒ…å«åœ¨ `deployment/` ç›®å½•ï¼š

```bash
# è„šæœ¬ä½ç½®
~/deployment/configure_node.sh
```

å¦‚æœæ²¡æœ‰ï¼Œä»WSLä¼ è¾“ï¼š
```bash
scp deployment/configure_node.sh pi@<å„æ´¾IP>:~/deployment/
```

### 4.2 åœ¨æ¯ä¸ªæ´¾ä¸Šè¿è¡Œé…ç½®è„šæœ¬

#### æ´¾1 (Directory Server, 192.168.1.10)

```bash
# å¯åŠ¨æ´¾1ï¼ŒSSHç™»å½•
ssh pi@<å½“å‰IP>

# è¿è¡Œé…ç½®è„šæœ¬
cd ~/deployment
sudo ./configure_node.sh 1

# åº”ç”¨ç½‘ç»œé…ç½®å¹¶é‡å¯
sudo netplan apply
sudo reboot
```

#### æ´¾2 (Guard Relay, 192.168.1.11)

```bash
# æ’å…¥å¡2ï¼Œå¯åŠ¨æ´¾2
ssh pi@<å½“å‰IP>

cd ~/deployment
sudo ./configure_node.sh 2
sudo netplan apply
sudo reboot
```

#### æ´¾3 (Middle Relay, 192.168.1.12)

```bash
sudo ./configure_node.sh 3
sudo netplan apply && sudo reboot
```

#### æ´¾4 (Exit Relay, 192.168.1.13)

```bash
sudo ./configure_node.sh 4
sudo netplan apply && sudo reboot
```

#### æ´¾5 (Client, 192.168.1.14)

```bash
sudo ./configure_node.sh 5
sudo netplan apply && sudo reboot
```

### 4.3 éªŒè¯é…ç½®

é‡å¯åï¼ŒéªŒè¯æ¯ä¸ªæ´¾ï¼š

```bash
# 1. æ£€æŸ¥ä¸»æœºå
hostname
# åº”è¯¥æ˜¾ç¤º: phytiumpi-dir, phytiumpi-guard, etc.

# 2. æ£€æŸ¥IPåœ°å€
ip addr show
# åº”è¯¥çœ‹åˆ°å¯¹åº”çš„é™æ€IP

# 3. æµ‹è¯•ç½‘ç»œè¿é€šæ€§
ping 192.168.1.1  # ç½‘å…³
ping 8.8.8.8      # å¤–ç½‘

# 4. æµ‹è¯•æ´¾ä¹‹é—´äº’è”
ping 192.168.1.10  # ä»æ´¾2 ping æ´¾1
ping 192.168.1.11  # ä»æ´¾1 ping æ´¾2
# ä¾æ­¤ç±»æ¨
```

---

## ğŸš€ Step 5: å¯åŠ¨PQ-Torç½‘ç»œ

æ‰€æœ‰5ä¸ªæ´¾é…ç½®å®Œæˆåï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºå¯åŠ¨æœåŠ¡ï¼š

### 5.1 æ´¾1: å¯åŠ¨ Directory Server

```bash
ssh pi@192.168.1.10
cd ~/pq-tor
./directory
```

**é¢„æœŸè¾“å‡º**:
```
[Directory] Server started on port 5000
[HTTP] Test server started on port 8000
```

### 5.2 æ´¾2: å¯åŠ¨ Guard Relay

```bash
ssh pi@192.168.1.11
cd ~/pq-tor
./relay -r guard -p 6001
```

### 5.3 æ´¾3: å¯åŠ¨ Middle Relay

```bash
ssh pi@192.168.1.12
cd ~/pq-tor
./relay -r middle -p 6002
```

### 5.4 æ´¾4: å¯åŠ¨ Exit Relay

```bash
ssh pi@192.168.1.13
cd ~/pq-tor
./relay -r exit -p 6003
```

### 5.5 æ´¾5: è¿è¡Œ Client

**âš ï¸ æ³¨æ„**: éœ€è¦å…ˆä¿®æ”¹å®¢æˆ·ç«¯é…ç½®æŒ‡å‘æ´¾1çš„IP

ç¼–è¾‘ `programs/client_main.c`:
```c
tor_client_config_t config = {
    .directory_host = "192.168.1.10",  // æŒ‡å‘æ´¾1
    .directory_port = 5000,
    .timeout_seconds = 30
};
```

é‡æ–°ç¼–è¯‘ï¼š
```bash
cd ~/pq-tor
make client
```

è¿è¡Œå®¢æˆ·ç«¯ï¼š
```bash
./client http://192.168.1.10:8000
```

### 5.6 é¢„æœŸç»“æœ

```
============================================
  PQ-Tor Client
============================================

[1/4] Fetching directory...
[Client] Found 1 guards, 1 middles, 1 exits

[2/4] Building 3-hop circuit...
[Client] First hop established
[Client] Circuit extended (layer 1 added)
[Client] Circuit extended (layer 2 added)
[Client] 3-hop circuit established!
  Guard:  192.168.1.11:6001
  Middle: 192.168.1.12:6002
  Exit:   192.168.1.13:6003

[3/4] Sending HTTP GET request...
[Client] Stream connected
[Client] Sent 54 bytes

[4/4] Response received (1205 bytes):
============================================
HTTP/1.0 200 OK
...
============================================

âœ… Test completed successfully!
```

---

## ğŸ“‹ å®Œæ•´æ“ä½œæ£€æŸ¥æ¸…å•

### ä¸»å¡é…ç½®é˜¶æ®µ âœ…

- [ ] çƒ§å½•ç³»ç»Ÿåˆ°SDå¡1
- [ ] é¦–æ¬¡å¯åŠ¨å¹¶åˆå§‹åŒ–
- [ ] å®‰è£…æ‰€æœ‰ç³»ç»Ÿä¾èµ–
- [ ] è¿è¡Œ check_env.shï¼ˆå…¨éƒ¨âœ…ï¼‰
- [ ] è¿è¡Œ install_deps.shï¼ˆliboqså®‰è£…æˆåŠŸï¼‰
- [ ] ç¼–è¯‘PQ-Torä»£ç ï¼ˆmake allæˆåŠŸï¼‰
- [ ] è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•ï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰
- [ ] è¿è¡Œ test_network.shï¼ˆæˆåŠŸï¼‰
- [ ] å…³æœºï¼Œå‡†å¤‡åˆ¶ä½œé•œåƒ

### é•œåƒåˆ¶ä½œé˜¶æ®µ âœ…

- [ ] å–å‡ºSDå¡1ï¼Œæ’å…¥Linux/Windowsæœºå™¨
- [ ] ä½¿ç”¨ddæˆ–Win32DiskImageråˆ¶ä½œé•œåƒ
- [ ] ä¿å­˜ä¸º phytiumpi-golden.img
- [ ] ï¼ˆå¯é€‰ï¼‰å‹ç¼©é•œåƒ

### å…‹éš†é˜¶æ®µ âœ…

- [ ] å‡†å¤‡4å¼ ç©ºç™½SDå¡ï¼ˆâ‰¥ä¸»å¡å®¹é‡ï¼‰
- [ ] å…‹éš†é•œåƒåˆ°å¡2ï¼ˆæ´¾2 Guardï¼‰
- [ ] å…‹éš†é•œåƒåˆ°å¡3ï¼ˆæ´¾3 Middleï¼‰
- [ ] å…‹éš†é•œåƒåˆ°å¡4ï¼ˆæ´¾4 Exitï¼‰
- [ ] å…‹éš†é•œåƒåˆ°å¡5ï¼ˆæ´¾5 Clientï¼‰

### ä¸ªæ€§åŒ–é…ç½®é˜¶æ®µ âœ…

- [ ] æ´¾1: è¿è¡Œ sudo ./configure_node.sh 1ï¼Œé‡å¯
- [ ] æ´¾2: è¿è¡Œ sudo ./configure_node.sh 2ï¼Œé‡å¯
- [ ] æ´¾3: è¿è¡Œ sudo ./configure_node.sh 3ï¼Œé‡å¯
- [ ] æ´¾4: è¿è¡Œ sudo ./configure_node.sh 4ï¼Œé‡å¯
- [ ] æ´¾5: è¿è¡Œ sudo ./configure_node.sh 5ï¼Œé‡å¯
- [ ] éªŒè¯æ‰€æœ‰æ´¾çš„ä¸»æœºåæ­£ç¡®
- [ ] éªŒè¯æ‰€æœ‰æ´¾çš„IPåœ°å€æ­£ç¡®
- [ ] æµ‹è¯•æ´¾ä¹‹é—´ç½‘ç»œè¿é€šæ€§

### æœåŠ¡å¯åŠ¨é˜¶æ®µ âœ…

- [ ] æ´¾1: å¯åŠ¨ ./directory
- [ ] æ´¾2: å¯åŠ¨ ./relay -r guard -p 6001
- [ ] æ´¾3: å¯åŠ¨ ./relay -r middle -p 6002
- [ ] æ´¾4: å¯åŠ¨ ./relay -r exit -p 6003
- [ ] æ´¾5: ä¿®æ”¹å®¢æˆ·ç«¯é…ç½®
- [ ] æ´¾5: é‡æ–°ç¼–è¯‘å¹¶è¿è¡Œ ./client
- [ ] éªŒè¯3è·³ç”µè·¯å»ºç«‹æˆåŠŸ
- [ ] éªŒè¯HTTPè¯·æ±‚å®Œæˆ
- [ ] æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹æ—¥å¿—ç¡®è®¤æ­£å¸¸

---

## ğŸ¯ å…³é”®ä¼˜åŠ¿æ€»ç»“

### æ—¶é—´å¯¹æ¯”

| æ–¹æ³• | é…ç½®æ—¶é—´ | æ€»è€—æ—¶ |
|------|---------|--------|
| **é€ä¸ªé…ç½®** | æ¯ä¸ªæ´¾30åˆ†é’Ÿ | **2.5å°æ—¶** |
| **SDå¡å…‹éš†** | ä¸»å¡30åˆ†é’Ÿ + å…‹éš†60åˆ†é’Ÿ + é…ç½®30åˆ†é’Ÿ | **1.5-2å°æ—¶** |

**èŠ‚çœ**: çº¦30-50%æ—¶é—´

### ä¸€è‡´æ€§ä¿è¯

| é¡¹ç›® | é€ä¸ªé…ç½® | SDå¡å…‹éš† |
|------|---------|---------|
| **liboqsç‰ˆæœ¬** | å¯èƒ½ä¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **ç³»ç»ŸåŒ…ç‰ˆæœ¬** | å¯èƒ½ä¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **ç¼–è¯‘é€‰é¡¹** | å¯èƒ½ä¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **ç›®å½•ç»“æ„** | å¯èƒ½ä¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| **ç”¨æˆ·é…ç½®** | å¯èƒ½é—æ¼ | âœ… å®Œå…¨ä¸€è‡´ |

### ç»´æŠ¤ä¼˜åŠ¿

- âœ… **å¤‡ä»½ç®€å•**: ä¿å­˜ä¸€ä¸ªé•œåƒæ–‡ä»¶å³å¯
- âœ… **æ¢å¤å¿«é€Ÿ**: é‡æ–°å†™å…¥é•œåƒå³å¯
- âœ… **ç‰ˆæœ¬æ§åˆ¶**: å¯ä»¥ä¿å­˜å¤šä¸ªç‰ˆæœ¬çš„é•œåƒ
- âœ… **å›¢é˜Ÿåä½œ**: é•œåƒæ–‡ä»¶å¯ä»¥åˆ†äº«

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: SDå¡å¤§å°ä¸ä¸€è‡´æ€ä¹ˆåŠï¼Ÿ

**A**: å…‹éš†å¡çš„å®¹é‡å¿…é¡» â‰¥ ä¸»å¡å®¹é‡

- å¦‚æœæ–°å¡æ›´å¤§ï¼šâœ… æ²¡é—®é¢˜ï¼Œå¤šä½™ç©ºé—´å¯ä»¥åç»­æ‰©å±•åˆ†åŒº
- å¦‚æœæ–°å¡æ›´å°ï¼šâŒ æ— æ³•å…‹éš†ï¼Œå¿…é¡»ä½¿ç”¨æ›´å¤§çš„å¡

**è§£å†³æ–¹æ¡ˆ**: è´­ä¹°ç›¸åŒå¤§å°çš„SDå¡ï¼Œæˆ–è€…åœ¨ä¸»å¡ä¸Šåˆ›å»ºæ›´å°çš„åˆ†åŒºã€‚

### Q2: å…‹éš†åå¯åŠ¨å¤±è´¥

**å¯èƒ½åŸå› **:
1. é•œåƒæ–‡ä»¶æŸå
2. SDå¡è´¨é‡é—®é¢˜
3. å†™å…¥è¿‡ç¨‹ä¸­æ–­

**è§£å†³æ–¹æ¡ˆ**:
1. é‡æ–°åˆ¶ä½œé•œåƒ
2. ä½¿ç”¨ `conv=fsync` ç¡®ä¿æ•°æ®å®Œå…¨å†™å…¥
3. æ›´æ¢è´¨é‡æ›´å¥½çš„SDå¡

### Q3: ç½‘ç»œé…ç½®ä¸ç”Ÿæ•ˆ

**å¯èƒ½åŸå› **: netplané…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
sudo netplan --debug apply

# å¦‚æœæœ‰é”™è¯¯ï¼Œæ‰‹åŠ¨ç¼–è¾‘
sudo nano /etc/netplan/01-netcfg.yaml

# ç¡®ä¿ç¼©è¿›ä½¿ç”¨ç©ºæ ¼ï¼Œä¸æ˜¯Tab
```

### Q4: SSHè¿æ¥è¢«æ‹’ç»ï¼ˆHost key verification failedï¼‰

**åŸå› **: æ‰€æœ‰å…‹éš†çš„æ´¾ä½¿ç”¨ç›¸åŒçš„SSHä¸»æœºå¯†é’¥

**è§£å†³æ–¹æ¡ˆ**: åœ¨æ¯ä¸ªæ´¾ä¸Šé‡æ–°ç”ŸæˆSSHå¯†é’¥
```bash
sudo rm /etc/ssh/ssh_host_*
sudo dpkg-reconfigure openssh-server
sudo systemctl restart sshd
```

æˆ–è€…ä½¿ç”¨ `configure_node.sh` è„šæœ¬è‡ªåŠ¨å®Œæˆã€‚

### Q5: IPåœ°å€å†²çª

**åŸå› **: å¿˜è®°ä¿®æ”¹æŸä¸ªæ´¾çš„IPé…ç½®

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æ‰€æœ‰åœ¨çº¿è®¾å¤‡
nmap -sn 192.168.1.0/24

# æˆ–ä½¿ç”¨arp-scan
sudo arp-scan --localnet

# æ‰¾åˆ°å†²çªçš„æ´¾ï¼Œé‡æ–°è¿è¡Œé…ç½®è„šæœ¬
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥é•œåƒå®Œæ•´æ€§**:
   ```bash
   md5sum phytiumpi-golden.img
   ```

2. **éªŒè¯SDå¡å¥åº·**:
   ```bash
   sudo badblocks -v /dev/sdb
   ```

3. **æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—**:
   ```bash
   sudo journalctl -xe
   sudo dmesg | tail -50
   ```

---

## ğŸ‰ æ€»ç»“

SDå¡å…‹éš†æ–¹æ¡ˆæ˜¯æ‰¹é‡éƒ¨ç½²é£è…¾æ´¾çš„**æœ€ä½³å®è·µ**ï¼š

âœ… **å¿«é€Ÿ**: èŠ‚çœ30-50%æ—¶é—´
âœ… **å¯é **: ç¯å¢ƒå®Œå…¨ä¸€è‡´
âœ… **çµæ´»**: æ˜“äºå¤‡ä»½å’Œæ¢å¤
âœ… **ä¸“ä¸š**: ä¼ä¸šçº§éƒ¨ç½²æ ‡å‡†æ–¹æ³•

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. åœ¨ä¸€å¼ SDå¡ä¸Šå®Œæˆæ‰€æœ‰é…ç½®
2. åˆ¶ä½œé•œåƒå¹¶å…‹éš†åˆ°å…¶ä»–4å¼ å¡
3. è¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬å®Œæˆä¸ªæ€§åŒ–é…ç½®
4. å¯åŠ¨å®Œæ•´çš„5èŠ‚ç‚¹PQ-Torç½‘ç»œ

**é¢„è®¡æ€»æ—¶é—´**: 1.5-2å°æ—¶å®Œæˆå…¨éƒ¨éƒ¨ç½²ï¼

---

**åˆ›å»ºæ—¶é—´**: 2025-11-06
**é€‚ç”¨åœºæ™¯**: é£è…¾æ´¾ 5èŠ‚ç‚¹ PQ-Tor ç½‘ç»œéƒ¨ç½²
**æ¨èæ–¹æ³•**: â­â­â­â­â­ (å¼ºçƒˆæ¨è)
