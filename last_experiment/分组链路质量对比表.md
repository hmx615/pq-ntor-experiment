# 12拓扑分组链路质量对比表


**创建时间**: 2025-11-28
**对比维度**: 上行(1-6) vs 下行(7-12)协作版本
**目的**: 方便对比上行与下行场景的网络参数差异

---

## 📊 端到端参数总览

| 拓扑对 | 上行拓扑 | 速率(Mbps) | 延迟(ms) | 丢包(%) | 下行拓扑 | 速率(Mbps) | 延迟(ms) | 丢包(%) | 速率变化 | 丢包变化 |
|-------|---------|-----------|---------|---------|---------|-----------|---------|---------|---------|---------|
| **1-7** | topo01 | 31.81 | 5.42 | 2.00 | topo07 | 14.08 | 5.44 | 2.00 | ↓ -55.7% | → 持平 |
| **2-8** | topo02 | 3.60 | 5.44 | 2.00 | topo08 | 8.77 | 5.46 | 2.00 | ↑ +143.6% | → 持平 |
| **3-9** | topo03 | 20.53 | 2.73 | 0.10 | topo09 | 3.60 | 2.72 | 2.00 | ↓ -82.5% | ↑ +1900% |
| **4-10** | topo04 | 29.21 | 5.42 | 2.00 | topo10 | 8.77 | 5.44 | 2.00 | ↓ -70.0% | → 持平 |
| **5-11** | topo05 | 23.03 | 5.43 | 2.00 | topo11 | 1.59 | 5.45 | 3.00 | ↓ -93.1% | ↑ +50% |
| **6-12** | topo06 | 29.21 | 5.42 | 0.10 | topo12 | 8.77 | 5.44 | 2.00 | ↓ -70.0% | ↑ +1900% |

**关键发现**:
- ✅ 延迟基本一致（上行下行差异<0.1ms），说明传播距离相同
- ⚠️ **速率下降显著**：下行拓扑速率普遍低于上行（除了2-8组）
- ⚠️ **丢包率上升**：下行拓扑丢包率略高（协作引入的额外链路影响）

---

## 🔍 分组详细对比

### 📍 第1组: topo01 ↔ topo07

#### **拓扑1: Z1 Up - 直连NOMA（上行）**
- **描述**: SAT ← S2(地面,低RSSI) + S1(UAV,高RSSI)
- **端到端**: 31.81 Mbps, 5.42ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 2跳
- **链路详情**:
  1. `s2_ground → sat` (天基上行-低RSSI)
     - 速率: 31.81 Mbps, 延迟: 2.71ms, SINR: 3.04dB
     - **瓶颈**: 是（最低速率链路）
  2. `s1_uav → sat` (天基上行-高RSSI)
     - 速率: 161.33 Mbps, 延迟: 2.71ms, SINR: 24.27dB

#### **拓扑7: Z1 Down - 直连NOMA+协作（下行）**
- **描述**: SAT → S1/R(UAV) + S2(地面), S1→S2协作
- **端到端**: 14.08 Mbps, 5.44ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 3跳（下行多了1跳协作链路）
- **链路详情**:
  1. `sat → s1_r_uav` (天基下行-高RSSI)
     - 速率: 161.33 Mbps, 延迟: 2.71ms, SINR: 24.27dB
  2. `sat → s2_ground` (天基下行-低RSSI)
     - 速率: 31.81 Mbps, 延迟: 2.71ms, SINR: 3.04dB
  3. `s1_r_uav → s2_ground` (空/地协作-单向)
     - 速率: 14.08 Mbps, 延迟: 0.02ms, SINR: 24.84dB
     - **瓶颈**: 是（UAV到地面协作链路成为新瓶颈）

**对比结论**:
- 速率下降55.7%：协作链路(UAV→地面)成为新瓶颈
- 延迟基本持平：传播距离相同
- 链路数+1：下行增加了协作链路

---

### 📍 第2组: topo02 ↔ topo08

#### **拓扑2: Z1 Up - T协作接入（上行）**
- **描述**: T通过S2/R1(地面)或S1/R2(UAV)双路径上行
- **端到端**: 3.60 Mbps, 5.44ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 4跳
- **链路详情**:
  1. `s2_r1_ground → sat` (天基上行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  2. `s1_r2_uav → sat` (天基上行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  3. `t_ground → s2_r1_ground` (空/地-高RSSI近距离): **3.60 Mbps** ⚠️, 0.003ms, SINR 3.95dB
  4. `t_ground → s1_r2_uav` (空/地-低RSSI远距离): 17.34 Mbps, 0.017ms, SINR 26.09dB

**瓶颈**: T到S2/R1的D2D链路（3.60 Mbps）

#### **拓扑8: Z2 Down - 多跳协作下行（下行）**
- **描述**: SAT → S1/R1(UAV) + S2/R2(地面) → T(地面)
- **端到端**: 8.77 Mbps, 5.46ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 5跳
- **链路详情**:
  1. `sat → s1_r1_uav` (天基下行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  2. `sat → s2_r2_ground` (天基下行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  3. `s1_r1_uav → s2_r2_ground` (协作链路): 14.08 Mbps, 0.02ms, SINR 24.84dB
  4. `s1_r1_uav → t_ground` (空/地-低RSSI远距离): **8.77 Mbps** ⚠️, 0.0183ms, SINR 21.89dB
  5. `s2_r2_ground → t_ground` (空/地-高RSSI近距离): 17.39 Mbps, 0.0017ms, SINR 26.13dB

**瓶颈**: S1/R1(UAV)到T的空/地链路（8.77 Mbps）

**对比结论**:
- 速率提升143.6%：下行的瓶颈链路(8.77 Mbps)优于上行(3.60 Mbps)
- 这是唯一一组下行性能优于上行的拓扑对！

---

### 📍 第3组: topo03 ↔ topo09

#### **拓扑3: Z3 Up - T用户协作NOMA（上行）**
- **描述**: 两个地面T用户通过UAV中继上行
- **端到端**: 20.53 Mbps, 2.73ms, SINR 23.84dB, 丢包0.10%
- **跳数**: 3跳
- **链路详情**:
  1. `s_r_uav → sat` (卫星链路无标注): 158.52 Mbps, 2.71ms, SINR 23.84dB
  2. `t2_ground → s_r_uav` (空/地上行-低RSSI): **20.53 Mbps** ⚠️, 0.013ms, SINR 25.60dB
  3. `t1_ground → s_r_uav` (空/地上行-高RSSI): 29.21 Mbps, 0.005ms, SINR 28.47dB

**瓶颈**: T2到UAV的空/地链路（20.53 Mbps）

#### **拓扑9: Z3 Down - T用户协作下行（下行）**
- **描述**: SAT → S/R(UAV) → T1(地面) + T2(地面), T1→T2协作
- **端到端**: 3.60 Mbps, 2.72ms, SINR 3.95dB, 丢包2.00%
- **跳数**: 4跳（增加了T1→T2协作链路）
- **链路详情**:
  1. `sat → s_r_uav` (卫星链路无标注): 158.52 Mbps, 2.71ms, SINR 23.84dB
  2. `s_r_uav → t1_ground` (空/地-高RSSI): 29.21 Mbps, 0.005ms, SINR 28.47dB
  3. `s_r_uav → t2_ground` (空/地-低RSSI): 20.53 Mbps, 0.0033ms, SINR 25.60dB
  4. `t1_ground → t2_ground` (协作链路D2D): **3.60 Mbps** ⚠️⚠️, 0.0033ms, SINR 3.95dB

**瓶颈**: T1→T2的D2D协作链路（3.60 Mbps，距离1km）

**对比结论**:
- 速率暴跌82.5%：D2D协作链路成为严重瓶颈
- 丢包率从0.1%升至2.0%（SINR从23.84dB降至3.95dB）
- **已修正**: T1-T2距离从2.8km缩短到1km，否则速率仅0.3 Mbps

---

### 📍 第4组: topo04 ↔ topo10

#### **拓扑4: Z4 Up - 混合直连+协作（上行）**
- **描述**: S2(地面)直连，T通过S1/R(UAV)上行
- **端到端**: 29.21 Mbps, 5.42ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 3跳
- **链路详情**:
  1. `s2_ground → sat` (天基上行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  2. `s1_r_uav → sat` (天基上行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  3. `t_ground → s1_r_uav` (空/地链路): **29.21 Mbps** ⚠️, 0.005ms, SINR 28.47dB

**瓶颈**: T到S1/R(UAV)的空/地链路（29.21 Mbps）

#### **拓扑10: Z4 Down - 混合直连+单跳协作（下行）**
- **描述**: SAT → S1(UAV) + S2/R(地面) → T(地面)
- **端到端**: 8.77 Mbps, 5.44ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 4跳
- **链路详情**:
  1. `sat → s1_uav` (天基下行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  2. `sat → s2_r_ground` (天基下行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  3. `s1_uav → s2_r_ground` (协作链路): 14.08 Mbps, 0.02ms, SINR 24.84dB
  4. `s2_r_ground → t_ground` (空/地链路): **8.77 Mbps** ⚠️, 0.0017ms, SINR 21.89dB

**瓶颈**: S2/R到T的地面链路（8.77 Mbps，距离500m）

**对比结论**:
- 速率下降70.0%：S2/R→T链路比上行的T→S1/R慢很多
- 链路数+1：下行增加了S1→S2/R协作链路

---

### 📍 第5组: topo05 ↔ topo11

#### **拓扑5: Z5 Up - 多层树形结构（上行）**
- **描述**: S2(地面)直连，T1/T2通过S1/R(UAV)上行
- **端到端**: 23.03 Mbps, 5.43ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 4跳
- **链路详情**:
  1. `s2_ground → sat` (天基上行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  2. `s1_r_uav → sat` (天基上行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  3. `t1_ground → s1_r_uav` (空/地-高RSSI): 29.21 Mbps, 0.005ms, SINR 28.47dB
  4. `t2_ground → s1_r_uav` (空/地-低RSSI): **23.03 Mbps** ⚠️, 0.01ms, SINR 26.64dB

**瓶颈**: T2到S1/R(UAV)的空/地链路（23.03 Mbps，距离3km）

#### **拓扑11: Z5 Down - 混合直连+多跳协作（下行）**
- **描述**: SAT → S1(UAV) + S2/R(地面) → T1/T2(地面)
- **端到端**: 1.59 Mbps, 5.45ms, SINR -1.33dB, 丢包3.00%
- **跳数**: 6跳
- **链路详情**:
  1. `sat → s1_uav` (天基下行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  2. `sat → s2_r_ground` (天基下行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  3. `s1_uav → s2_r_ground` (协作链路): 14.08 Mbps, 0.02ms, SINR 24.84dB
  4. `s2_r_ground → t1_ground` (空/地-高RSSI): 17.39 Mbps, 0.0017ms, SINR 26.13dB
  5. `s2_r_ground → t2_ground` (空/地-低RSSI): 2.97 Mbps, 0.0033ms, SINR 1.88dB
  6. `t1_ground → t2_ground` (协作链路D2D): **1.59 Mbps** ⚠️⚠️, 0.005ms, SINR -1.33dB

**瓶颈**: T1→T2的D2D协作链路（1.59 Mbps，距离1.5km）

**对比结论**:
- 速率暴跌93.1%：T1→T2协作链路成为严重瓶颈
- 丢包率从2.0%升至3.0%（SINR从3.04dB降至-1.33dB）
- **问题**: T1-T2距离1.5km，D2D链路过弱

---

### 📍 第6组: topo06 ↔ topo12

#### **拓扑6: Z6 Up - 双UAV中继+T用户（上行）**
- **描述**: 两个UAV分别中继一个地面T用户
- **端到端**: 29.21 Mbps, 5.42ms, SINR 23.35dB, 丢包0.10%
- **跳数**: 4跳
- **链路详情**:
  1. `s1_r1_uav → sat` (天基上行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  2. `s2_r2_uav → sat` (天基上行-低RSSI): 158.52 Mbps, 2.71ms, SINR 23.35dB
  3. `t1_ground → s1_r1_uav` (空/地-高RSSI): **29.21 Mbps** ⚠️, 0.0017ms, SINR 28.47dB
  4. `t2_ground → s2_r2_uav` (空/地-低RSSI): 29.30 Mbps, 0.0017ms, SINR 28.48dB

**瓶颈**: T1到S1/R1(UAV)的空/地链路（29.21 Mbps）

#### **拓扑12: Z6 Down - 双中继协作下行（下行）**
- **描述**: SAT → S1/R1(UAV) + S2/R2(地面) → T1/T2(地面)
- **端到端**: 8.77 Mbps, 5.44ms, SINR 3.04dB, 丢包2.00%
- **跳数**: 5跳
- **链路详情**:
  1. `sat → s1_r1_uav` (天基下行-高RSSI): 161.33 Mbps, 2.71ms, SINR 24.27dB
  2. `sat → s2_r2_ground` (天基下行-低RSSI): 31.81 Mbps, 2.71ms, SINR 3.04dB
  3. `s1_r1_uav → s2_r2_ground` (协作链路): 14.08 Mbps, 0.02ms, SINR 24.84dB
  4. `s1_r1_uav → t1_ground` (空/地链路): **8.77 Mbps** ⚠️, 0.0017ms, SINR 21.89dB
  5. `s2_r2_ground → t2_ground` (空/地链路): 17.39 Mbps, 0.0017ms, SINR 26.13dB

**瓶颈**: S1/R1(UAV)到T1的空/地链路（8.77 Mbps）

**对比结论**:
- 速率下降70.0%：下行的UAV→T1链路比上行的T1→UAV慢
- 丢包率从0.1%升至2.0%（SINR从23.35dB降至3.04dB）

---

## 🎯 总结性发现

### 1. 速率变化规律

| 变化趋势 | 拓扑对 | 原因 |
|---------|-------|------|
| **大幅下降** (>70%) | 1-7, 3-9, 4-10, 5-11, 6-12 | 下行协作链路成为新瓶颈 |
| **大幅提升** | 2-8 | 下行瓶颈链路优于上行 |

### 2. 瓶颈链路分析

**上行拓扑瓶颈**:
- topo01: 地面→卫星(31.81 Mbps)
- topo02: T→S2/R1 D2D(3.60 Mbps) ⚠️
- topo03: T2→UAV(20.53 Mbps)
- topo04: T→UAV(29.21 Mbps)
- topo05: T2→UAV(23.03 Mbps)
- topo06: T1→UAV(29.21 Mbps)

**下行拓扑瓶颈**:
- topo07: UAV→地面协作(14.08 Mbps)
- topo08: UAV→T(8.77 Mbps)
- topo09: T1→T2 D2D协作(3.60 Mbps) ⚠️⚠️
- topo10: S2/R→T(8.77 Mbps)
- topo11: T1→T2 D2D协作(1.59 Mbps) ⚠️⚠️⚠️
- topo12: UAV→T1(8.77 Mbps)

### 3. 协作链路的影响

**D2D协作链路问题**:
- topo09: T1→T2 (1km, 3.60 Mbps) - 需要极短距离才能保证速率
- topo11: T1→T2 (1.5km, 1.59 Mbps) - 最严重瓶颈

**空/地协作链路**:
- topo07: UAV→地面 (14.08 Mbps) - 可接受
- topo08: UAV→T (8.77 Mbps) - 中等性能

### 4. 对PQ-NTOR实验的意义

**速率覆盖范围**: 1.59 - 31.81 Mbps（~20倍范围）
- 超低速: 1.59 Mbps (topo11)
- 低速: 3.60 Mbps (topo02, 09)
- 中低速: 8.77 Mbps (topo08, 10, 12)
- 中高速: 14.08 Mbps (topo07)
- 高速: 20.53 - 31.81 Mbps (topo01, 03, 04, 05, 06)

**丢包率覆盖范围**: 0.10 - 3.00%
- 优秀: 0.10% (topo03, 06)
- 良好: 2.00% (topo01, 02, 04, 05, 07, 08, 09, 10, 12)
- 较差: 3.00% (topo11)

**延迟分组**:
- 低延迟组 (2.72-2.73ms): topo03, 09（无卫星直连）
- 高延迟组 (5.42-5.46ms): topo01, 02, 04, 05, 06, 07, 08, 10, 11, 12（有卫星直连）

---

## ⚠️ 需要关注的拓扑

### 🔴 高风险拓扑

**topo11** (1.59 Mbps, 3.00%丢包):
- 瓶颈：T1→T2 D2D协作链路（SINR -1.33dB）
- 建议：测试时增加超时时间，可能需要多次重试

**topo09** (3.60 Mbps, 2.00%丢包):
- 瓶颈：T1→T2 D2D协作链路（距离1km）
- 已修正：从2.8km缩短到1km，否则仅0.3 Mbps

### 🟡 中风险拓扑

**topo02** (3.60 Mbps):
- 瓶颈：T→S2/R1 D2D链路
- 影响：握手时间可能偏长

**topo08, 10, 12** (8.77 Mbps):
- 瓶颈：空/地链路
- 影响：中等速率，测试时间适中

---

**文档版本**: v2.0
**创建时间**: 2025-11-28
**状态**: ✅ 基于重新设计的节点坐标和师妹物理模型计算
**下一步**: 编写PQ-NTOR自动化测试脚本
