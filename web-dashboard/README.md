# ğŸ–¥ï¸ PQ-Tor SAGIN Web Dashboard

**åé‡å­Torç©ºå¤©åœ°ç½‘ç»œå®æ—¶ç›‘æ§ç•Œé¢**

é€‚ç”¨äº10å¯¸å°å±å¹•çš„å¯è§†åŒ–å±•ç¤ºç³»ç»Ÿ

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ›°ï¸ **SAGINç½‘ç»œæ‹“æ‰‘å¯è§†åŒ–** - ç©ºå¤©åœ°ä¸‰å±‚æ¶æ„å®æ—¶å±•ç¤º
- ğŸ“Š **æ€§èƒ½æŒ‡æ ‡ç›‘æ§** - æ¡æ‰‹å»¶è¿Ÿã€ç”µè·¯å»ºç«‹ã€æˆåŠŸç‡ç­‰å…³é”®æŒ‡æ ‡
- ğŸ“ˆ **å¯¹æ¯”å›¾è¡¨** - Baseline/LEO/MEO/GEOæ€§èƒ½å¯¹æ¯”
- ğŸ”„ **å®æ—¶æ›´æ–°** - æ¯5ç§’è‡ªåŠ¨åˆ·æ–°æ•°æ®
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…1024Ã—600åˆ°1280Ã—800åˆ†è¾¨ç‡
- ğŸŒ™ **æš—è‰²ä¸»é¢˜** - é€‚åˆæ¼”ç¤ºåœºæ™¯ï¼Œå‡å°‘çœ©å…‰
- âš¡ **ç”µè·¯å»ºç«‹åŠ¨ç”»** - å¯è§†åŒ–3è·³ç”µè·¯æ„å»ºè¿‡ç¨‹
- ğŸ“ **å®æ—¶æ—¥å¿—** - ç³»ç»Ÿäº‹ä»¶æ»šåŠ¨æ˜¾ç¤º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…Pythonä¾èµ–
pip3 install flask flask-cors pandas

# æˆ–ä½¿ç”¨requirements.txtï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
pip3 install -r requirements.txt
```

### 2. å¯åŠ¨æœåŠ¡

#### æ–¹å¼Aï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /home/ccc/pq-ntor-experiment/web-dashboard
chmod +x start.sh
./start.sh
```

#### æ–¹å¼Bï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
# å¯åŠ¨APIæœåŠ¡
cd api
python3 server.py
```

### 3. è®¿é—®ç•Œé¢

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: **http://localhost:8080**

æ¨èæµè§ˆå™¨ï¼š
- Chromium/Chromeï¼ˆæ¨èï¼‰
- Firefox
- Edge

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
web-dashboard/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css          # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ js/
â”‚   â””â”€â”€ main.js            # JavaScripté€»è¾‘
â”œâ”€â”€ api/
â”‚   â””â”€â”€ server.py          # Flask APIæœåŠ¡
â”œâ”€â”€ data/                  # æ•°æ®ç›®å½•ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ start.sh               # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md              # æœ¬æ–‡ä»¶
```

---

## ğŸ¨ ç•Œé¢è¯´æ˜

### ä¸»è¦åŒºåŸŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›°ï¸ PQ-Tor SAGIN Network Monitor    [â—å®æ—¶] 15:30:45   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                      â”‚
â”‚  Network         â”‚      Performance Metrics             â”‚
â”‚  Topology        â”‚                                      â”‚
â”‚  (å·¦ä¾§)          â”‚      (å³ä¾§)                          â”‚
â”‚                  â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ åº•éƒ¨çŠ¶æ€æ : èŠ‚ç‚¹ç»Ÿè®¡ + ç³»ç»Ÿä¿¡æ¯                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠŸèƒ½æ¨¡å—

1. **ç½‘ç»œæ‹“æ‰‘ (å·¦ä¾§)**
   - ç©ºé—´å±‚ï¼šGEOå«æ˜Ÿ
   - ç©ºä¸­å±‚ï¼šLEOå«æ˜Ÿï¼ˆGuard/Middle/Exitï¼‰
   - åœ°é¢å±‚ï¼šClient/Directory/Target
   - ç”µè·¯çŠ¶æ€ï¼šå®æ—¶æ˜¾ç¤º3è·³å»ºç«‹è¿›åº¦

2. **æ€§èƒ½æŒ‡æ ‡å¡ç‰‡ (å³ä¸Š)**
   - Network Typeï¼šå½“å‰ç½‘ç»œé…ç½®ï¼ˆLEO/MEO/GEOï¼‰
   - Handshakeï¼šPQ-Ntoræ¡æ‰‹å»¶è¿Ÿ
   - Circuit Latencyï¼šç”µè·¯å»ºç«‹æ—¶é—´
   - Success Rateï¼šæˆåŠŸç‡

3. **æ€§èƒ½å¯¹æ¯”å›¾è¡¨ (å³ä¸­)**
   - æŸ±çŠ¶å›¾ï¼š4ç§é…ç½®çš„ç”µè·¯å»ºç«‹æ—¶é—´å¯¹æ¯”
   - å®æ—¶æ›´æ–°ï¼šæ ¹æ®æœ€æ–°å®éªŒæ•°æ®

4. **ç³»ç»Ÿæ—¥å¿— (å³ä¸‹)**
   - å®æ—¶æ»šåŠ¨æ˜¾ç¤ºç³»ç»Ÿäº‹ä»¶
   - é¢œè‰²æ ‡è¯†ï¼šinfo(è“)/success(ç»¿)/warning(é»„)/error(çº¢)
   - æ”¯æŒæ¸…ç©ºæ—¥å¿—

---

## ğŸ® äº¤äº’æ“ä½œ

### é”®ç›˜å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| **F11** | åˆ‡æ¢å…¨å±æ¨¡å¼ |
| **Ctrl+D** | å¯åŠ¨æ¼”ç¤ºæ¨¡å¼ï¼ˆæ¨¡æ‹Ÿæ•°æ®å˜åŒ–ï¼‰ |
| **Ctrl+L** | æ¸…ç©ºæ—¥å¿— |

### é¼ æ ‡æ“ä½œ

- **å¡ç‰‡æ‚¬åœ** - é«˜äº®æ˜¾ç¤ºï¼Œè½»å¾®ä¸Šæµ®
- **èŠ‚ç‚¹ç‚¹å‡»** - ï¼ˆé¢„ç•™åŠŸèƒ½ï¼‰æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **å…¨å±æŒ‰é’®** - é¡¶éƒ¨å³ä¾§ï¼Œç‚¹å‡»è¿›å…¥å…¨å±

---

## ğŸ”§ é…ç½®è¯´æ˜

### APIç«¯ç‚¹

æ‰€æœ‰APIæ¥å£åŸºäº: `http://localhost:8080/api`

| ç«¯ç‚¹ | è¯´æ˜ | è¿”å›æ•°æ® |
|------|------|---------|
| `/api/status` | ç³»ç»ŸçŠ¶æ€ | èŠ‚ç‚¹çŠ¶æ€ã€ç”µè·¯ä¿¡æ¯ |
| `/api/performance` | æ€§èƒ½æ•°æ® | æ¡æ‰‹å»¶è¿Ÿã€ç”µè·¯æ—¶é—´ |
| `/api/sagin/comparison` | SAGINå¯¹æ¯” | 4ç§é…ç½®çš„æ€§èƒ½æ•°æ® |
| `/api/logs?lines=50` | ç³»ç»Ÿæ—¥å¿— | æœ€æ–°Næ¡æ—¥å¿— |
| `/api/health` | å¥åº·æ£€æŸ¥ | æœåŠ¡çŠ¶æ€ |

### æ•°æ®æº

1. **SAGINå®éªŒæ•°æ®**
   - ä½ç½®: `results/sagin/summary.csv`
   - æ ¼å¼: CSVï¼ˆConfig, Time(s)_mean, Success_countç­‰ï¼‰

2. **æ¡æ‰‹åŸºå‡†æµ‹è¯•**
   - ä½ç½®: `c/benchmark_results.csv`
   - æ ¼å¼: CSVï¼ˆOperation, Avg(Î¼s), Median(Î¼s)ç­‰ï¼‰

3. **èŠ‚ç‚¹çŠ¶æ€**
   - æ–¹å¼: é€šè¿‡`pgrep`æ£€æµ‹è¿›ç¨‹
   - è¿›ç¨‹å: directory, relay, client

### æ›´æ–°é¢‘ç‡

- **è‡ªåŠ¨åˆ·æ–°**: æ¯5ç§’
- **æ—¶é’Ÿæ›´æ–°**: æ¯1ç§’
- **æ—¥å¿—é™åˆ¶**: æœ€å¤šä¿ç•™50æ¡

---

## ğŸ¬ æ¼”ç¤ºæ¨¡å¼

### å¯åŠ¨æ¼”ç¤ºæ¨¡å¼

```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
startDemoMode();

// æˆ–ä½¿ç”¨å¿«æ·é”®
// Ctrl+D
```

æ¼”ç¤ºæ¨¡å¼ä¼šï¼š
- æ¯8ç§’åˆ‡æ¢ç½‘ç»œé…ç½®ï¼ˆBaselineâ†’LEOâ†’MEOâ†’GEOï¼‰
- æ¨¡æ‹ŸæŒ‡æ ‡æ•°å€¼éšæœºå˜åŒ–
- è‡ªåŠ¨æ·»åŠ æ—¥å¿—æ¡ç›®

é€‚ç”¨åœºæ™¯ï¼š
- æ²¡æœ‰å®é™…æ•°æ®æ—¶çš„å±•ç¤º
- åŠŸèƒ½æ¼”ç¤ºå’Œæµ‹è¯•
- è®ºæ–‡ç­”è¾©æ¼”ç¤º

---

## ğŸš¢ éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæœ¬åœ°å¼€å‘

```bash
# æ ‡å‡†éƒ¨ç½²ï¼ˆå·²ä»‹ç»ï¼‰
./start.sh
```

### æ–¹æ¡ˆ2ï¼šå…¨å±Kioskæ¨¡å¼

```bash
# å¯åŠ¨APIæœåŠ¡
./start.sh &

# Chromiumå…¨å±æ¨¡å¼
chromium-browser --kiosk --app=http://localhost:8080

# æˆ–Firefox
firefox --kiosk http://localhost:8080
```

### æ–¹æ¡ˆ3ï¼šæ ‘è“æ´¾/é£è…¾æ´¾è‡ªå¯åŠ¨

ç¼–è¾‘ `/etc/rc.local`:

```bash
#!/bin/bash
# å¯åŠ¨APIæœåŠ¡
cd /home/ccc/pq-ntor-experiment/web-dashboard
./start.sh &

# ç­‰å¾…æœåŠ¡å¯åŠ¨
sleep 3

# å¯åŠ¨å…¨å±æµè§ˆå™¨
DISPLAY=:0 chromium-browser --kiosk http://localhost:8080 &

exit 0
```

### æ–¹æ¡ˆ4ï¼šNginxåå‘ä»£ç†ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```nginx
server {
    listen 80;
    server_name pqtor-monitor.local;

    location / {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ä¸»é¢˜é¢œè‰²

ç¼–è¾‘ `css/style.css`:

```css
:root {
    --primary: #3498db;    /* ä¸»è‰²è°ƒ */
    --success: #27ae60;    /* æˆåŠŸè‰² */
    --warning: #f39c12;    /* è­¦å‘Šè‰² */
    /* ...å…¶ä»–é¢œè‰² */
}
```

### ä¿®æ”¹æ›´æ–°é¢‘ç‡

ç¼–è¾‘ `js/main.js`:

```javascript
// æ”¹å˜è‡ªåŠ¨æ›´æ–°é—´éš”ï¼ˆé»˜è®¤5000ms = 5ç§’ï¼‰
updateInterval = setInterval(loadData, 10000); // æ”¹ä¸º10ç§’
```

### ä¿®æ”¹APIåœ°å€

ç¼–è¾‘ `js/main.js`:

```javascript
// å¦‚æœAPIéƒ¨ç½²åœ¨å…¶ä»–åœ°å€
const API_BASE = 'http://your-server:8080/api';
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šæ— æ³•è®¿é—®http://localhost:8080

**æ£€æŸ¥**:
```bash
# æŸ¥çœ‹APIæœåŠ¡æ˜¯å¦è¿è¡Œ
ps aux | grep server.py

# æŸ¥çœ‹ç«¯å£å ç”¨
sudo lsof -i :8080

# æŸ¥çœ‹é˜²ç«å¢™
sudo ufw status
```

**è§£å†³**:
```bash
# é‡å¯æœåŠ¡
pkill -f server.py
./start.sh
```

### é—®é¢˜2ï¼šé¡µé¢æ˜¾ç¤ºä½†æ•°æ®æœªæ›´æ–°

**æ£€æŸ¥**:
```bash
# æµ‹è¯•APIæ˜¯å¦å“åº”
curl http://localhost:8080/api/status

# æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°
# F12 â†’ Console â†’ æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
```

**è§£å†³**:
- æ£€æŸ¥å®éªŒæ•°æ®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„é…ç½®
- æŸ¥çœ‹APIæœåŠ¡æ—¥å¿—

### é—®é¢˜3ï¼šå›¾è¡¨ä¸æ˜¾ç¤º

**åŸå› **: Chart.js CDNåŠ è½½å¤±è´¥

**è§£å†³**:
```bash
# ä¸‹è½½Chart.jsåˆ°æœ¬åœ°
cd js
wget https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js

# ä¿®æ”¹index.htmlå¼•ç”¨æœ¬åœ°æ–‡ä»¶
<script src="js/chart.umd.min.js"></script>
```

### é—®é¢˜4ï¼šå…¨å±æ¨¡å¼æ— æ³•é€€å‡º

**è§£å†³**:
- æŒ‰ `Esc` é”®
- æŒ‰ `F11` é”®
- åœ¨æµè§ˆå™¨åœ°å€æ ç‚¹å‡»"é€€å‡ºå…¨å±"

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. å‡å°‘APIè¯·æ±‚é¢‘ç‡

```javascript
// é™ä½æ›´æ–°é¢‘ç‡ä»¥å‡è½»æœåŠ¡å™¨è´Ÿæ‹…
updateInterval = setInterval(loadData, 30000); // 30ç§’
```

### 2. å¯ç”¨æ•°æ®ç¼“å­˜

åœ¨`server.py`ä¸­æ·»åŠ ç¼“å­˜ï¼š

```python
from functools import lru_cache
import time

@lru_cache(maxsize=128)
def cached_load_data(timestamp):
    # ç¼“å­˜æ•°æ®ï¼Œæ¯5ç§’æ›´æ–°ä¸€æ¬¡
    return load_sagin_results()

@app.route('/api/sagin/comparison')
def get_sagin_comparison():
    ts = int(time.time() / 5)  # 5ç§’ä¸€ä¸ªæ—¶é—´æˆ³
    data = cached_load_data(ts)
    return jsonify(data)
```

### 3. å‹ç¼©é™æ€èµ„æº

```bash
# å‹ç¼©CSS
cssnano css/style.css css/style.min.css

# å‹ç¼©JS
uglifyjs js/main.js -o js/main.min.js
```

---

## ğŸ“¸ æˆªå›¾å’Œå½•å±

### æˆªå›¾

```bash
# ä½¿ç”¨scrotï¼ˆLinuxï¼‰
scrot -d 3 screenshot.png

# æˆ–ç›´æ¥åœ¨æµè§ˆå™¨
# F12 â†’ è®¾å¤‡å·¥å…·æ  â†’ é€‰æ‹©åˆ†è¾¨ç‡ â†’ æˆªå›¾
```

### å½•å±

```bash
# ä½¿ç”¨SimpleScreenRecorder
simplescreenrecorder

# æˆ–ffmpeg
ffmpeg -f x11grab -s 1024x600 -i :0.0 -r 25 demo.mp4
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å‰ç«¯å±•ç¤ºæ–¹æ¡ˆ.md](../å‰ç«¯å±•ç¤ºæ–¹æ¡ˆ.md) - è¯¦ç»†è®¾è®¡æ–‡æ¡£
- [PQ-Tor-SAGINé›†æˆæ–¹æ¡ˆ.md](../PQ-Tor-SAGINé›†æˆæ–¹æ¡ˆ.md) - SAGINæ•´ä½“æ–¹æ¡ˆ
- [sagin-experiments/README.md](../sagin-experiments/README.md) - å®éªŒæŒ‡å—

---

## ğŸ¤ è´¡çŒ®

å¦‚éœ€æ”¹è¿›æˆ–æ·»åŠ åŠŸèƒ½ï¼Œè¯·ï¼š
1. Forké¡¹ç›®
2. åˆ›å»ºfeatureåˆ†æ”¯
3. æäº¤Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦æœ¯ç ”ç©¶å’Œæ•™è‚²ç›®çš„ã€‚

---

## ğŸ“ å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹æœ¬READMEçš„æ•…éšœæ’æŸ¥éƒ¨åˆ†
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
3. æŸ¥çœ‹APIæœåŠ¡æ—¥å¿—
4. å‚è€ƒç›¸å…³æ–‡æ¡£

---

## ğŸ¯ ä¸‹ä¸€æ­¥

**ç«‹å³å¼€å§‹**:

```bash
cd /home/ccc/pq-ntor-experiment/web-dashboard
./start.sh
```

ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€: **http://localhost:8080**

**æç¤º**: æŒ‰`F11`è¿›å…¥å…¨å±æ¨¡å¼ä»¥è·å¾—æœ€ä½³æ¼”ç¤ºæ•ˆæœï¼

---

**åˆ›å»ºæ—¶é—´**: 2025-11-06
**ç‰ˆæœ¬**: 1.0.0
**çŠ¶æ€**: âœ… å¯ç”¨

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸš€
