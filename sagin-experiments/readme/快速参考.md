# SAGIN ç³»ç»Ÿå¿«é€Ÿå‚è€ƒå¡ç‰‡

## ğŸ¯ ä¸€å¥è¯æ¦‚æ‹¬
7èŠ‚ç‚¹SAGINç½‘ç»œä»¿çœŸç³»ç»Ÿï¼ŒåŸºäºçœŸå®è½¨é“æ•°æ®ï¼Œæ”¯æŒåŠ¨æ€æ‹“æ‰‘å’Œç½‘ç»œé…ç½®ï¼Œä¸ºPQ-NTORæ€§èƒ½æµ‹è¯•æä¾›å¹³å°ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
sagin-experiments/
â”œâ”€â”€ configs/                    # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ sagin_topology_config.json
â”œâ”€â”€ scripts/                    # æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ sagin_orbit_simulator.py
â”‚   â”œâ”€â”€ network_topology_manager.py
â”‚   â”œâ”€â”€ sagin_integration.py
â”‚   â””â”€â”€ quick_start.sh          â­ å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ tests/                      # æµ‹è¯•ä»£ç 
â”‚   â””â”€â”€ test_skyfield_basic.py
â”œâ”€â”€ docs/                       # å†å²æ–‡æ¡£
â”œâ”€â”€ results/                    # å®éªŒç»“æœ
â”œâ”€â”€ SAGINç³»ç»Ÿä½¿ç”¨æŒ‡å—.md         â­ å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ Phase1å®Œæˆæ€»ç»“.md            â­ é˜¶æ®µæ€»ç»“
â””â”€â”€ å¿«é€Ÿå‚è€ƒ.md                  â­ æœ¬æ–‡æ¡£
```

---

## ğŸš€ æœ€å¸¸ç”¨å‘½ä»¤

### è¿›å…¥å·¥ä½œç›®å½•
```bash
cd /home/ccc/pq-ntor-experiment/sagin-experiments/scripts
```

### æ£€æŸ¥ç¯å¢ƒ
```bash
sudo ./quick_start.sh check
```

### è¿è¡Œæµ‹è¯•
```bash
sudo ./quick_start.sh unit-test   # å•å…ƒæµ‹è¯•
sudo ./quick_start.sh test        # é›†æˆæµ‹è¯•ï¼ˆdry-runï¼‰
```

### å¯åŠ¨ä»¿çœŸ
```bash
sudo ./quick_start.sh start              # è¿è¡Œ10åˆ†é’Ÿ
sudo ./quick_start.sh start 5 10         # 5åˆ†é’Ÿï¼Œæ¯10ç§’æ›´æ–°
sudo ./quick_start.sh infinite           # æ— é™è¿è¡Œ
```

### æŸ¥çœ‹çŠ¶æ€
```bash
sudo ./quick_start.sh status             # ç³»ç»ŸçŠ¶æ€
tail -f /tmp/sagin_integration.log       # å®æ—¶æ—¥å¿—
```

### æ¸…ç†ç¯å¢ƒ
```bash
sudo ./quick_start.sh cleanup
```

---

## ğŸ“Š ç³»ç»Ÿé…ç½®

### 7ä¸ªèŠ‚ç‚¹
- **Sat-1**: LEOå«æ˜Ÿï¼Œ550kmï¼ŒIP: 172.20.1.11
- **Sat-2**: MEOå«æ˜Ÿï¼Œ8000kmï¼ŒIP: 172.20.1.12
- **Aircraft-1**: Beijingâ†’Londonï¼ŒIP: 172.20.2.21
- **Aircraft-2**: Londonâ†’NewYorkï¼ŒIP: 172.20.2.22
- **GS-Beijing**: åŒ—äº¬åœ°é¢ç«™ï¼ŒIP: 172.20.3.31
- **GS-London**: ä¼¦æ•¦åœ°é¢ç«™ï¼ŒIP: 172.20.3.32
- **GS-NewYork**: çº½çº¦åœ°é¢ç«™ï¼ŒIP: 172.20.3.33

### 5ç§é“¾è·¯ç±»å‹
1. **ISL**: æ˜Ÿé—´é“¾è·¯ï¼ˆSatâ†”Satï¼‰
2. **SGLink**: æ˜Ÿåœ°é“¾è·¯ï¼ˆSatâ†”GSï¼‰
3. **SALink**: æ˜Ÿæœºé“¾è·¯ï¼ˆSatâ†”Aircraftï¼‰
4. **AGLink**: æœºåœ°é“¾è·¯ï¼ˆAircraftâ†”GSï¼‰
5. **GLink**: åœ°é¢é“¾è·¯ï¼ˆGSâ†”GSï¼ŒåŸºå‡†ï¼‰

### 5ä¸ªæµ‹è¯•åœºæ™¯
1. **Scenario 1**: Sat-1 â†” Sat-2ï¼ˆæ˜Ÿé—´ï¼‰
2. **Scenario 2**: Sat-1 â†” GS-Beijingï¼ˆæ˜Ÿåœ°ï¼‰
3. **Scenario 3**: GS-Beijing â†’ Sat-1 â†’ Aircraft-1 â†’ GS-Londonï¼ˆå¤šè·³ï¼‰
4. **Scenario 4**: GS-Beijing â†’ Sat-1 â†’ Sat-2 â†’ GS-NewYorkï¼ˆå…¨çƒï¼‰
5. **Scenario 5**: GS-Beijing â†’ Sat-1 â†’ GS-Londonï¼ˆåŠ¨æ€åˆ‡æ¢ï¼‰

---

## ğŸ”§ å¸¸è§æ“ä½œ

### ä¿®æ”¹ä»¿çœŸå‚æ•°

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š
```bash
nano configs/sagin_topology_config.json
```

å¸¸ç”¨ä¿®æ”¹é¡¹ï¼š
- `network_parameters.topology_update_interval_sec`: æ›´æ–°é—´éš”
- `satellites.*.altitude_km`: å«æ˜Ÿé«˜åº¦
- `link_constraints.*.max_distance_km`: æœ€å¤§é€šä¿¡è·ç¦»

### æŸ¥çœ‹æŸä¸ªå®¹å™¨

```bash
# åˆ—å‡ºæ‰€æœ‰SAGINå®¹å™¨
docker ps -a --filter "name=sagin_"

# è¿›å…¥å®¹å™¨
docker exec -it sagin_sat-1 bash

# æŸ¥çœ‹å®¹å™¨ç½‘ç»œé…ç½®
docker exec sagin_sat-1 tc qdisc show dev eth0
docker exec sagin_sat-1 iptables -L OUTPUT
```

### æå–æ—¥å¿—ä¿¡æ¯

```bash
# é“¾è·¯å˜åŒ–äº‹ä»¶
grep "Applied.*link" /tmp/sagin_integration.log

# å¯è§é“¾è·¯ç»Ÿè®¡
grep "Visible links" /tmp/sagin_integration.log

# æ‹“æ‰‘æ›´æ–°æ¬¡æ•°
grep "Iteration" /tmp/sagin_integration.log | wc -l
```

---

## ğŸ› æ•…éšœæ’æŸ¥é€ŸæŸ¥è¡¨

| é—®é¢˜ | è§£å†³æ–¹æ³• |
|------|----------|
| Dockeræƒé™é”™è¯¯ | ä½¿ç”¨ `sudo` è¿è¡Œå‘½ä»¤ |
| Skyfieldæœªå®‰è£… | `pip3 install skyfield` |
| å®¹å™¨å·²å­˜åœ¨å†²çª | `sudo ./quick_start.sh cleanup` |
| ç½‘ç»œé…ç½®å¤±è´¥ | æ£€æŸ¥å®¹å™¨æ˜¯å¦æ­£å¸¸åˆ›å»º |
| ç«¯å£è¢«å ç”¨ | ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å· |

---

## ğŸ“– æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£

```bash
# å®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ˆæ¨èï¼‰
cat SAGINç³»ç»Ÿä½¿ç”¨æŒ‡å—.md

# Phase 1 å®Œæˆæ€»ç»“
cat Phase1å®Œæˆæ€»ç»“.md

# å·¥ä½œè®¡åˆ’ï¼ˆ3å‘¨ï¼‰
cat docs/Skyfield-SAGINå®æ–½å·¥ä½œåˆ—è¡¨.md

# ä»£ç è¯„ä¼°æŠ¥å‘Š
cat docs/ä»£ç é‡æ„è¯„ä¼°ä¸æœ¬åœ°éªŒè¯æ–¹æ¡ˆ.md
```

---

## ğŸ“ è·å–å¸®åŠ©

```bash
# å¿«é€Ÿå¯åŠ¨è„šæœ¬å¸®åŠ©
./quick_start.sh help

# Pythonè„šæœ¬å¸®åŠ©
python3 sagin_integration.py --help
python3 sagin_orbit_simulator.py   # è¿è¡Œæµ‹è¯•æ¨¡å¼
python3 network_topology_manager.py # è¿è¡Œæµ‹è¯•æ¨¡å¼
```

---

## ğŸ“ æ ¸å¿ƒæŠ€æœ¯

- **Skyfield**: NASA JPLæ”¯æŒçš„Pythonè½¨é“åº“
- **SGP4ç®—æ³•**: æ ‡å‡†å«æ˜Ÿè½¨é“ä¼ æ’­æ¨¡å‹
- **Docker**: å®¹å™¨åŒ–å’Œç½‘ç»œéš”ç¦»
- **tc netem**: Linuxæµé‡æ§åˆ¶ï¼Œæ¨¡æ‹Ÿå»¶è¿Ÿ
- **iptables**: Linuxé˜²ç«å¢™ï¼Œæ§åˆ¶é“¾è·¯å¯ç”¨/ç¦ç”¨

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| æ‹“æ‰‘è®¡ç®—æ—¶é—´ | < 10ms |
| ç½‘ç»œé…ç½®æ—¶é—´ | < 100ms |
| å†…å­˜å ç”¨ | < 50MB |
| CPUå ç”¨ | < 5% |
| å¯è§é“¾è·¯æ£€æµ‹ | 3/21 (å½“å‰æ—¶åˆ») |

---

## âœ… æ£€æŸ¥æ¸…å•

å¼€å§‹ä½¿ç”¨å‰ï¼š
- [ ] å·²å®‰è£… Docker
- [ ] å·²å®‰è£… Python 3.8+
- [ ] å·²å®‰è£… Skyfield (`pip3 install skyfield`)
- [ ] æœ‰ root æƒé™ï¼ˆæˆ–åœ¨ docker ç»„ä¸­ï¼‰
- [ ] è¿è¡Œ `sudo ./quick_start.sh check` é€šè¿‡

å¼€å§‹ä»¿çœŸå‰ï¼š
- [ ] è¿è¡Œ `sudo ./quick_start.sh unit-test` é€šè¿‡
- [ ] è¿è¡Œ `sudo ./quick_start.sh test` é€šè¿‡
- [ ] æŸ¥çœ‹é…ç½®æ–‡ä»¶äº†è§£æ‹“æ‰‘

å®Œæˆåï¼š
- [ ] è¿è¡Œ `sudo ./quick_start.sh cleanup` æ¸…ç†ç¯å¢ƒ
- [ ] æŸ¥çœ‹æ—¥å¿— `/tmp/sagin_integration.log`
- [ ] ä¿å­˜éœ€è¦çš„å®éªŒæ•°æ®

---

## ğŸ”œ ä¸‹ä¸€æ­¥ï¼ˆPhase 2ï¼‰

1. æ„å»º PQ-NTOR Docker é•œåƒ
2. åœ¨å®¹å™¨ä¸­éƒ¨ç½² PQ-NTOR èŠ‚ç‚¹
3. è¿è¡Œ 5 ä¸ªæµ‹è¯•åœºæ™¯
4. æ”¶é›†æ€§èƒ½æ•°æ®ï¼ˆç”µè·¯å»ºç«‹æ—¶é—´ã€å»¶è¿Ÿã€è¶…æ—¶ç‡ç­‰ï¼‰
5. å¯¹æ¯” PQ-NTOR vs ä¼ ç»Ÿ NTOR

---

## ğŸ’¡ æç¤º

- **é¦–æ¬¡è¿è¡Œ**: å»ºè®®å…ˆç”¨ `--dry-run` å’Œ `--no-docker` æ¨¡å¼æµ‹è¯•
- **è°ƒè¯•æ¨¡å¼**: æŸ¥çœ‹ `/tmp/sagin_integration.log` äº†è§£è¯¦ç»†ä¿¡æ¯
- **æ€§èƒ½ä¼˜åŒ–**: å‡å°‘ `--interval` å‚æ•°å¯ä»¥åŠ å¿«æ›´æ–°é¢‘ç‡
- **èµ„æºé™åˆ¶**: 7ä¸ªå®¹å™¨ä¼šå ç”¨ä¸€å®šèµ„æºï¼Œæ³¨æ„ç³»ç»Ÿè´Ÿè½½
- **æ•°æ®å¤‡ä»½**: é‡è¦çš„æ—¥å¿—å’Œç»“æœè®°å¾—åŠæ—¶ä¿å­˜

---

**æœ€åæ›´æ–°**: 2025-11-12
**ç‰ˆæœ¬**: 1.0
**çŠ¶æ€**: âœ… Phase 1 å®Œæˆ
