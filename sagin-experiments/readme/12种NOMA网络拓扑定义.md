# 12种NOMA网络拓扑定义

**创建时间**: 2025-11-14
**项目**: PQ-Tor SAGIN演示系统
**目的**: 在飞腾派上实现12种NOMA网络拓扑的仿真展示

---

## 📋 符号定义

### 节点类型
- **天基卫星 (SAT)**: 卫星节点
- **空基无人机 (Aircraft/UAV)**: 空中中继节点
- **地面终端 (Ground)**: 地面用户节点

### 链路类型
- **卫星链路**: 卫星之间或无人机到卫星的链路
- **空/地链路**: 无人机到地面终端的链路
- **天基上行链路**: 地面/空中到卫星的上行
- **天基下行链路**: 卫星到地面/空中的下行

### 链路质量 (RSSI)
- **高RSSI(空/地)**: 高信号强度的空地链路
- **低RSSI(空/地)**: 低信号强度的空地链路
- **高RSSI(天基上行)**: 高信号强度的上行链路
- **低RSSI(天基上行)**: 低信号强度的上行链路
- **高RSSI(天基下行)**: 高信号强度的下行链路
- **低RSSI(天基下行)**: 低信号强度的下行链路
- **卫星链路(无标注)**: 星间链路，无RSSI标注
- **协作链路(无标注)**: NOMA组内协作链路

### 用户角色
- **S**: 1跳直连卫星用户 (Single-hop)
- **T**: 2跳协作接入卫星用户 (Two-hop)
- **R**: 协作中继用户 (Relay)
- **S1, T1, R1**: NOMA组内近端用户
- **S2, T2, R2**: NOMA组内远端用户

### NOMA场景
- **Z1场景**: NOMA分组={<S1,S2>}
- **Z2场景**: NOMA分组={<S1,S2>,<R1,R2>}
- **Z3场景**: NOMA分组={<T1,T2>}
- **Z4场景**: NOMA分组={<S1,S2>}
- **Z5场景**: NOMA分组={<S1,S2>,<T1,T2>}
- **Z6场景**: NOMA分组={<S1,S2>}

---

## 📤 上行通信拓扑 (6种)

### 拓扑1: Z1 Up - 直连NOMA

**树形结构**:
```
SAT (卫星)
├── S2 (地面终端, 低RSSI天基上行)
└── S1 (无人机, 高RSSI天基上行)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↗        ↖
        低RSSI上行 /          \ 高RSSI上行
                  /            \
        [S2 地面终端]      [S1 无人机]
         (远端)             (近端)
```

**NOMA分组**: {<S1, S2>}
**场景**: 两个用户直接1跳接入卫星，无协作

---

### 拓扑2: Z1 Up - T协作接入 (混合双路径)

**树形结构**:
```
SAT (卫星)
├── S2/R1 (地面终端, 低RSSI天基上行)
│   └── ← T (地面终端, 高RSSI空/地)
└── S1/R2 (无人机, 高RSSI天基上行)
    └── ← T (地面终端, 低RSSI空/地)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↗        ↖
        低RSSI上行 /          \ 高RSSI上行
                  /            \
    [S2/R1 地面中继] ←高RSSI→ [T 地面终端] ←低RSSI→ [S1/R2 无人机中继]

路径①: T --高RSSI--> S2/R1 --低RSSI上行--> 卫星
路径②: T --低RSSI--> S1/R2 --高RSSI上行--> 卫星
```

**特点**: T用户通过两条路径混合连接到卫星

---

### 拓扑3: Z3 Up - T用户协作NOMA

**树形结构**:
```
SAT (卫星)
└── S/R (无人机, 卫星链路无标注)
    ├── T2 (地面终端, 低RSSI空/地上行)
    └── T1 (地面终端, 高RSSI空/地上行)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                         ↑
                  卫星链路(无标注)
                         |
                  [S/R 无人机中继]
                    ↗        ↖
       低RSSI上行  /          \ 高RSSI上行
      (空/地链路) /            \ (空/地链路)
                 /              \
        [T2 地面终端]      [T1 地面终端]
         (远端)             (近端)
```

**NOMA分组**: {<T1, T2>}
**场景**: 两个地面终端通过同一无人机2跳接入卫星

---

### 拓扑4: Z4 Up - 混合直连+协作

**树形结构**:
```
SAT (卫星)
├── S2 (地面终端, 低RSSI天基上行)
└── S1/R (无人机, 高RSSI天基上行)
    └── ← T (地面终端, 空/地链路)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↗        ↖
        低RSSI上行 /          \ 高RSSI上行
       (天基上行) /            \ (天基上行)
                 /              \
        [S2 地面终端]      [S1/R 无人机]
        (直连，远端)            ↑
                          空/地链路
                               |
                        [T 地面终端]
```

**路径**:
- 路径1: S2 --低RSSI上行--> 卫星 (1跳直连)
- 路径2: T --空/地--> S1/R --高RSSI上行--> 卫星 (2跳协作)

**NOMA分组**: {<S1, S2>}

---

### 拓扑5: Z5 Up - 多层树形结构

**树形结构**:
```
SAT (卫星)
├── S2 (地面终端, 低RSSI天基上行)
└── S1/R (无人机, 高RSSI天基上行)
    ├── T1 (地面终端, 高RSSI空/地)
    └── T2 (地面终端, 低RSSI空/地)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↗        ↖
        低RSSI上行 /          \ 高RSSI上行
                  /            \
        [S2 地面终端]      [S1/R 无人机]
                            ↗        ↖
                高RSSI空/地 /          \ 低RSSI空/地
                          /            \
                  [T1 地面终端]    [T2 地面终端]
```

**NOMA分组**: {<S1, S2>, <T1, T2>}
**场景**: 三层树形结构，包含直连和多跳用户

---

### 拓扑6: Z6 Up - 双无人机中继+T用户

**树形结构**:
```
SAT (卫星)
├── S1/R1 (无人机, 高RSSI天基上行)
│   └── T1 (地面终端, 高RSSI空/地)
└── S2/R2 (无人机, 低RSSI天基上行)
    └── T2 (地面终端, 低RSSI空/地)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↗        ↖
        高RSSI上行 /          \ 低RSSI上行
       (天基链路) /            \ (天基链路)
                 /              \
        [S1/R1 无人机]      [S2/R2 无人机]
              |                    |
      高RSSI空/地               低RSSI空/地
              ↓                    ↓
        [T1 地面终端]        [T2 地面终端]
        (近端)                (远端)
```

**NOMA分组**: {<S1, S2>}
**场景**: 两个无人机分别中继一个地面用户

---

## 📥 下行通信拓扑 (6种，组内有协作)

### 拓扑7: Z1 Down - 直连NOMA+协作

**树形结构**:
```
SAT (卫星)
├── S1/R (无人机, 高RSSI天基下行)
│   └── → S2 (协作，单向)
└── S2 (地面终端, 低RSSI天基下行)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↓        ↓
        高RSSI下行 /          \ 低RSSI下行
       (天基链路) /            \ (天基链路)
                 ↓              ↓
        [S1/R 无人机] ————→ [S2 地面终端]
        (近端)      空/地协作    (远端)
                    (单向)
```

**NOMA分组**: {<S1, S2>}
**数据流向**:
- SAT → S1/R (高RSSI下行)
- SAT → S2 (低RSSI下行)
- S1/R → S2 (协作转发，帮助S2解码)

---

### 拓扑8: Z2 Down - 多跳协作下行

**树形结构**:
```
SAT (卫星)
├── S1/R1 (无人机, 高RSSI天基下行)
│   ├── → S2/R2 (协作，单向)
│   └── → T (地面终端, 低RSSI空/地)
└── S2/R2 (地面终端, 低RSSI天基下行)
    └── → T (地面终端, 高RSSI空/地)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↓        ↓
        高RSSI下行 /          \ 低RSSI下行
       (天基链路) /            \ (天基链路)
                 ↓              ↓
        [S1/R1 无人机] ————→ [S2/R2 地面终端]
              |      协作      |
      低RSSI  |                | 高RSSI
      空/地   |                | 空/地
              ↓                ↓
                  [T 地面终端]
```

**NOMA分组**: {<S1, S2>, <R1, R2>}
**数据流向**:
- SAT → S1/R1, SAT → S2/R2
- S1/R1 → S2/R2 (协作)
- S1/R1 → T (低RSSI), S2/R2 → T (高RSSI)

---

### 拓扑9: Z3 Down - T用户协作下行

**树形结构**:
```
SAT (卫星)
└── S/R (无人机, 卫星链路无标注)
    ├── T1 (地面终端, 高RSSI空/地)
    │   └── → T2 (协作，单向)
    └── T2 (地面终端, 低RSSI空/地)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                         ↓
                  卫星链路(无标注)
                         ↓
                  [S/R 无人机中继]
                    ↓        ↓
        高RSSI空/地 /          \ 低RSSI空/地
                  ↓            ↓
          [T1 地面终端] ————→ [T2 地面终端]
           (近端)      协作     (远端)
```

**NOMA分组**: {<T1, T2>}
**数据流向**:
- SAT → S/R (卫星链路)
- S/R → T1 (高RSSI), S/R → T2 (低RSSI)
- T1 → T2 (协作转发)

---

### 拓扑10: Z4 Down - 混合直连+单跳协作

**树形结构**:
```
SAT (卫星)
├── S1 (无人机, 高RSSI天基下行)
│   └── → S2/R (协作，单向)
└── S2/R (地面终端, 低RSSI天基下行)
    └── → T (地面终端)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↓        ↓
        高RSSI下行 /          \ 低RSSI下行
                  ↓            ↓
          [S1 无人机] ————→ [S2/R 地面终端]
                      协作        ↓
                                  ↓
                            [T 地面终端]
```

**NOMA分组**: {<S1, S2>}
**数据流向**:
- SAT → S1, SAT → S2/R
- S1 → S2/R (协作)
- S2/R → T (转发)

---

### 拓扑11: Z5 Down - 混合直连+多跳协作

**树形结构**:
```
SAT (卫星)
├── S1 (无人机, 高RSSI天基下行)
│   └── → S2/R (协作，单向)
└── S2/R (地面终端, 低RSSI天基下行)
    ├── → T1 (地面终端, 高RSSI空/地)
    │   └── → T2 (协作，单向)
    └── → T2 (地面终端, 低RSSI空/地)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↓        ↓
        高RSSI下行 /          \ 低RSSI下行
                  ↓            ↓
          [S1 无人机] ————→ [S2/R 地面终端]
                      协作      ↓        ↓
                     高RSSI空/地 /          \ 低RSSI空/地
                              ↓            ↓
                      [T1 地面终端] ————→ [T2 地面终端]
                                    协作
```

**NOMA分组**: {<S1, S2>, <T1, T2>}
**数据流向**:
- SAT → S1, SAT → S2/R
- S1 → S2/R (协作)
- S2/R → T1 (高RSSI), S2/R → T2 (低RSSI)
- T1 → T2 (协作)

---

### 拓扑12: Z6 Down - 双中继协作下行

**树形结构**:
```
SAT (卫星)
├── S1/R1 (无人机, 高RSSI天基下行)
│   ├── → S2/R2 (协作，单向)
│   └── → T1 (地面终端)
└── S2/R2 (地面终端, 低RSSI天基下行)
    └── → T2 (地面终端)
```

**网络拓扑图**:
```
                    [卫星 SAT]
                    ↓        ↓
        高RSSI下行 /          \ 低RSSI下行
                  ↓            ↓
        [S1/R1 无人机] ————→ [S2/R2 地面终端]
              |        协作        |
              ↓                    ↓
        [T1 地面终端]        [T2 地面终端]
```

**NOMA分组**: {<S1, S2>}
**数据流向**:
- SAT → S1/R1, SAT → S2/R2
- S1/R1 → S2/R2 (协作)
- S1/R1 → T1, S2/R2 → T2

---

## 📊 拓扑统计

| 分类 | 数量 | 拓扑编号 |
|------|------|---------|
| **上行通信** | 6 | 1-6 |
| **下行通信** | 6 | 7-12 |
| **直连场景** | 2 | 1, 7 |
| **协作场景** | 10 | 2-6, 8-12 |
| **单跳拓扑** | 2 | 1, 7 |
| **多跳拓扑** | 10 | 2-6, 8-12 |
| **包含协作链路** | 6 | 7-12 (全部下行) |

---

## 🎯 实现要点

### 关键特点
1. **上行vs下行**:
   - 上行: 数据从终端向卫星传输，无协作链路
   - 下行: 数据从卫星向终端传输，NOMA组内有协作链路

2. **RSSI差异化**:
   - 近端用户: 高RSSI (更强信号)
   - 远端用户: 低RSSI (较弱信号)
   - 用于NOMA功率分配和SIC解码

3. **多跳路径**:
   - T用户: 需要通过中继节点2跳接入
   - S用户: 直接1跳连接卫星
   - 混合场景: S和T共存

4. **协作机制** (仅下行):
   - 近端用户解码后转发给远端用户
   - 帮助远端用户进行干扰消除
   - 单向协作链路

---

## 📁 相关文档

- `RSSI网络参数映射方案.md` - RSSI到延迟/带宽的映射规则
- `拓扑配置文件格式.md` - JSON配置文件格式说明
- `节点角色映射方案.md` - 节点到飞腾派/容器的映射
- `实现技术方案.md` - 具体实现步骤和脚本

---

**文档创建**: 2025-11-14
**状态**: ✅ 完成
**下一步**: 创建RSSI映射和配置文件格式
