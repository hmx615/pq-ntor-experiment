# é“¾è·¯æµåŠ¨åŠ¨ç”»æŠ€æœ¯è¯´æ˜

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025-11-20
**é€‚ç”¨ç³»ç»Ÿ**: SAGIN NOMA 6+1åˆ†å¸ƒå¼å±•ç¤ºç³»ç»Ÿ

---

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜6+1ç³»ç»Ÿä¸­é“¾è·¯æµåŠ¨åŠ¨ç”»çš„å®ç°åŸç†ã€é…ç½®æ–¹æ³•ã€è§†è§‰æ•ˆæœä»¥åŠæŠ€æœ¯ç»†èŠ‚ã€‚é€šè¿‡æµåŠ¨åŠ¨ç”»ï¼Œç”¨æˆ·å¯ä»¥æ¸…æ™°çœ‹åˆ°æ•°æ®ä¼ è¾“çš„æ–¹å‘å’Œé€Ÿåº¦ã€‚

---

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

âœ¨ **æ‰€æœ‰é“¾è·¯éƒ½æœ‰æµåŠ¨åŠ¨ç”»**
- ç»¿è‰²é«˜RSSIé“¾è·¯ï¼šå¿«é€ŸæµåŠ¨
- æ©™è‰²ä½RSSIé“¾è·¯ï¼šä¸­é€ŸæµåŠ¨
- ç´«è‰²åä½œé“¾è·¯ï¼šæ…¢é€Ÿè™šçº¿æµåŠ¨

ğŸ¯ **æ–¹å‘æŒ‡ç¤ºæ¸…æ™°**
- åŠ¨ç”»æµå‘è¡¨ç¤ºæ•°æ®ä¼ è¾“æ–¹å‘
- source â†’ target æ¸…æ™°å¯è§

âš¡ **é€Ÿåº¦åæ˜ ä¿¡å·è´¨é‡**
- æµåŠ¨è¶Šå¿« = ä¿¡å·è¶Šå¥½
- æµåŠ¨è¶Šæ…¢ = ä¿¡å·è¶Šå¼±/åä½œä¼ è¾“

---

## ğŸ¨ è§†è§‰æ•ˆæœè®¾è®¡

### ä¸‰ç§é“¾è·¯æ ·å¼

| é“¾è·¯ç±»å‹ | é¢œè‰² | æ ·å¼ | åŠ¨ç”»é€Ÿåº¦ | è§†è§‰æ•ˆæœ | å«ä¹‰ |
|---------|------|------|----------|----------|------|
| **é«˜RSSI** | ğŸŸ¢ ç»¿è‰² `#00ff00` | å®çº¿æ®µ | **å¿«é€Ÿ** 0.8ç§’ | `â”â”â” â”â”â” â”â”â” â†’` | ä¿¡å·å¼ºã€ä¼ è¾“å¿« |
| **ä½RSSI** | ğŸŸ  æ©™è‰² `#ff6600` | å®çº¿æ®µ | **ä¸­é€Ÿ** 1.2ç§’ | `â”â”â”  â”â”â”  â”â”â” â†’` | ä¿¡å·å¼±ã€ä¼ è¾“æ…¢ |
| **åä½œé“¾è·¯** | ğŸŸ£ ç´«è‰² `#ff00ff` | è™šçº¿ | **æ…¢é€Ÿ** 2.0ç§’ | `- - -  - - -  - - - â†’` | åä½œè¾…åŠ©ä¼ è¾“ |

### åŠ¨ç”»å‚æ•°å¯¹æ¯”

| å‚æ•° | é«˜RSSI (green) | ä½RSSI (orange) | åä½œ (coop) |
|------|----------------|-----------------|-------------|
| **çº¿æ®µé•¿åº¦** | 0.4 | 0.4 | 0.5 |
| **çº¿æ®µé—´éš™** | 0.1 | 0.1 | 0.2 |
| **åŠ¨ç”»å‘¨æœŸ** | 800ms | 1200ms | 2000ms |
| **çº¿å‹** | å®çº¿æ®µ | å®çº¿æ®µ | è™šçº¿ |
| **é€Ÿåº¦** | æœ€å¿« | ä¸­ç­‰ | æœ€æ…¢ |

### é€Ÿåº¦æ¯”ä¾‹

```
é«˜RSSI:ä½RSSI:åä½œ = 0.8:1.2:2.0 = 1:1.5:2.5

                å¿« â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ…¢
                |        |          |
              é«˜RSSI   ä½RSSI     åä½œ
              (0.8s)   (1.2s)    (2.0s)
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### å®ç°åŸç†

ä½¿ç”¨ **Globe.GL** åº“çš„ arc åŠ¨ç”»å±æ€§ï¼š

| Globe.GL API | ä½œç”¨ | å€¼ |
|--------------|------|-----|
| `.arcDashLength()` | æ§åˆ¶çº¿æ®µé•¿åº¦ | 0.4 æˆ– 0.5 |
| `.arcDashGap()` | æ§åˆ¶çº¿æ®µé—´éš™ | 0.1 æˆ– 0.2 |
| `.arcDashAnimateTime()` | æ§åˆ¶åŠ¨ç”»å‘¨æœŸï¼ˆæ¯«ç§’ï¼‰ | 800/1200/2000 |

**åŠ¨ç”»åŸç†**:
- å°†è¿ç»­çš„å¼§çº¿åˆ†å‰²æˆå¤šä¸ªçº¿æ®µ
- çº¿æ®µæ²¿ç€å¼§çº¿è·¯å¾„ç§»åŠ¨
- å‘¨æœŸæ€§é‡å¤äº§ç”ŸæµåŠ¨æ•ˆæœ

### ä»£ç å®ç°

**æ–‡ä»¶ä½ç½®**:
- `frontend/control-panel/index.html` (ç¬¬664-679è¡Œ)
- `frontend/node-view/index.html` (ç¬¬707-722è¡Œ)

**å®Œæ•´ä»£ç **:

```javascript
globe.arcsData(links)
    .arcStartLat(d => { /* ... */ })
    .arcStartLng(d => { /* ... */ })
    .arcEndLat(d => { /* ... */ })
    .arcEndLng(d => { /* ... */ })
    .arcColor(d => { /* ... */ })
    .arcStroke(1.5)  // çº¿å®½

    // ğŸ¨ åŠ¨ç”»é…ç½®å¼€å§‹
    .arcDashLength(d => {
        // çº¿æ®µé•¿åº¦ï¼šåä½œé“¾è·¯ç”¨è™šçº¿ï¼Œå…¶ä»–ç”¨å®çº¿æ®µ
        if (d.rssi === 'coop') return 0.5;  // è™šçº¿ï¼ˆé—´éš”è¾ƒå¤§ï¼‰
        return 0.4;  // å®çº¿æ®µï¼ˆæ‰€æœ‰é“¾è·¯éƒ½æœ‰æµåŠ¨æ•ˆæœï¼‰
    })
    .arcDashGap(d => {
        // çº¿æ®µé—´éš™ï¼šæ§åˆ¶çº¿æ®µä¹‹é—´çš„è·ç¦»
        if (d.rssi === 'coop') return 0.2;  // è™šçº¿é—´éš™ï¼ˆæ˜æ˜¾ï¼‰
        return 0.1;  // å®çº¿æ®µé—´éš™ï¼ˆè¾ƒå°ï¼‰
    })
    .arcDashAnimateTime(d => {
        // åŠ¨ç”»å‘¨æœŸï¼šæ‰€æœ‰é“¾è·¯éƒ½æœ‰æµåŠ¨åŠ¨ç”»ï¼Œé€Ÿåº¦ä¸åŒè¡¨ç¤ºä¿¡å·å¼ºåº¦
        if (d.rssi === 'coop') return 2000;   // åä½œé“¾è·¯ï¼šæ…¢é€Ÿï¼ˆ2ç§’ï¼‰
        if (d.rssi === 'high') return 800;    // é«˜RSSIï¼šå¿«é€Ÿï¼ˆ0.8ç§’ï¼‰
        if (d.rssi === 'low') return 1200;    // ä½RSSIï¼šä¸­é€Ÿï¼ˆ1.2ç§’ï¼‰
        return 1000;  // é»˜è®¤ï¼ˆå¤‡ç”¨ï¼‰
    })
    // ğŸ¨ åŠ¨ç”»é…ç½®ç»“æŸ

    .arcLabel(d => { /* ... */ });
```

### å‚æ•°è¯¦è§£

#### 1. arcDashLength - çº¿æ®µé•¿åº¦

**ä½œç”¨**: æ§åˆ¶æ¯ä¸ªçº¿æ®µçš„é•¿åº¦ï¼ˆç›¸å¯¹äºæ•´ä¸ªå¼§çº¿ï¼‰

**å–å€¼èŒƒå›´**: 0-1 (å½’ä¸€åŒ–å€¼)

**æ¨èå€¼**:
- `0.4`: å®çº¿æ®µï¼Œé€‚åˆé«˜/ä½RSSIé“¾è·¯
- `0.5`: è™šçº¿æ®µï¼Œé€‚åˆåä½œé“¾è·¯ï¼ˆé—´éš”æ›´æ˜æ˜¾ï¼‰

**æ•ˆæœå¯¹æ¯”**:
```
é•¿åº¦=0.2:  â”  â”  â”  â”  â”  (å¤ªçŸ­ï¼Œä¸è¿ç»­)
é•¿åº¦=0.4:  â”â”â” â”â”â” â”â”â”   (âœ“ åˆé€‚)
é•¿åº¦=0.6:  â”â”â”â” â”â”â”â”     (å¤ªé•¿ï¼ŒæµåŠ¨æ„Ÿå¼±)
é•¿åº¦=1.0:  â”â”â”â”â”â”â”â”â”     (å®çº¿ï¼Œæ— åŠ¨ç”»)
```

#### 2. arcDashGap - çº¿æ®µé—´éš™

**ä½œç”¨**: æ§åˆ¶çº¿æ®µä¹‹é—´çš„è·ç¦»

**å–å€¼èŒƒå›´**: 0-1 (å½’ä¸€åŒ–å€¼)

**æ¨èå€¼**:
- `0.1`: å°é—´éš™ï¼Œé€‚åˆå®çº¿æ®µæµåŠ¨æ•ˆæœ
- `0.2`: å¤§é—´éš™ï¼Œé€‚åˆè™šçº¿æ ·å¼

**æ•ˆæœå¯¹æ¯”**:
```
é—´éš™=0.0:  â”â”â”â”â”â”â”â”â”  (æ— é—´éš™ï¼Œå®çº¿)
é—´éš™=0.1:  â”â”â” â”â”â”    (âœ“ æµåŠ¨æ•ˆæœ)
é—´éš™=0.2:  â”â”â”  â”â”â”   (âœ“ è™šçº¿æ•ˆæœ)
é—´éš™=0.5:  â”â”â”     â”â” (é—´éš™å¤ªå¤§)
```

#### 3. arcDashAnimateTime - åŠ¨ç”»å‘¨æœŸ

**ä½œç”¨**: æ§åˆ¶ä¸€ä¸ªå®Œæ•´åŠ¨ç”»å¾ªç¯çš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

**å–å€¼èŒƒå›´**: 0-âˆ (æ¯«ç§’)

**æ¨èå€¼**:
- `800ms`: å¿«é€ŸæµåŠ¨ï¼Œé«˜RSSIé“¾è·¯
- `1200ms`: ä¸­é€ŸæµåŠ¨ï¼Œä½RSSIé“¾è·¯
- `2000ms`: æ…¢é€ŸæµåŠ¨ï¼Œåä½œé“¾è·¯
- `0ms`: é™æ€ï¼Œæ— åŠ¨ç”»ï¼ˆæ—§ç‰ˆæœ¬ï¼‰

**é€Ÿåº¦è®¡ç®—**:
```
é€Ÿåº¦ = 1 / åŠ¨ç”»å‘¨æœŸ

é«˜RSSI: 1/800  = 1.25 æ¬¡/ç§’  (æœ€å¿«)
ä½RSSI: 1/1200 = 0.83 æ¬¡/ç§’  (ä¸­ç­‰)
åä½œ:   1/2000 = 0.50 æ¬¡/ç§’  (æœ€æ…¢)
```

---

## ğŸ“Š åŠ¨ç”»æ•ˆæœç¤ºä¾‹

### æ‹“æ‰‘1: ç›´è¿NOMAä¸Šè¡Œ

**é“¾è·¯é…ç½®**:
```javascript
{ source: 'S1', target: 'SAT', rssi: 'high', label: 'é«˜RSSIå¤©åŸºä¸Šè¡Œ' },
{ source: 'S2', target: 'SAT', rssi: 'low', label: 'ä½RSSIå¤©åŸºä¸Šè¡Œ' }
```

**è§†è§‰æ•ˆæœ**:
```
        [SAT å«æ˜Ÿ]
          â†‘     â†‘
         ğŸŸ¢    ğŸŸ 
        å¿«é€Ÿ  ä¸­é€Ÿ
         â†‘     â†‘
        S1    S2

S1â†’SAT: ç»¿è‰²å¿«é€ŸæµåŠ¨ (0.8ç§’)
S2â†’SAT: æ©™è‰²ä¸­é€ŸæµåŠ¨ (1.2ç§’)
```

### æ‹“æ‰‘7: ç›´è¿NOMAä¸‹è¡Œ+åä½œ

**é“¾è·¯é…ç½®**:
```javascript
{ source: 'SAT', target: 'S1', rssi: 'high', label: 'é«˜RSSIå¤©åŸºä¸‹è¡Œ' },
{ source: 'SAT', target: 'S2', rssi: 'low', label: 'ä½RSSIå¤©åŸºä¸‹è¡Œ' },
{ source: 'S1', target: 'S2', rssi: 'coop', label: 'åä½œé“¾è·¯' }
```

**è§†è§‰æ•ˆæœ**:
```
        [SAT å«æ˜Ÿ]
         â†“     â†“
        ğŸŸ¢    ğŸŸ 
        å¿«é€Ÿ  ä¸­é€Ÿ
         â†“     â†“
        S1 â”€â†’ S2
           ğŸŸ£
           æ…¢é€Ÿè™šçº¿

SATâ†’S1: ç»¿è‰²å¿«é€ŸæµåŠ¨ (0.8ç§’)
SATâ†’S2: æ©™è‰²ä¸­é€ŸæµåŠ¨ (1.2ç§’)
S1â†’S2:  ç´«è‰²æ…¢é€Ÿè™šçº¿æµåŠ¨ (2.0ç§’)
```

### æ‹“æ‰‘8: ä¸­ç»§ä¸‹è¡Œ+åä½œ

**é“¾è·¯é…ç½®**:
```javascript
{ source: 'SAT', target: 'SR', rssi: 'high', label: 'é«˜RSSIå¤©åŸºä¸‹è¡Œ' },
{ source: 'SR', target: 'S1', rssi: 'high', label: 'é«˜RSSIç©º/åœ°' },
{ source: 'SR', target: 'S2', rssi: 'low', label: 'ä½RSSIç©º/åœ°' },
{ source: 'S1', target: 'S2', rssi: 'coop', label: 'NOMAåä½œé“¾è·¯' }
```

**è§†è§‰æ•ˆæœ**:
```
        [SAT å«æ˜Ÿ]
            â†“ ğŸŸ¢ å¿«é€Ÿ
          [SR æ— äººæœº]
         â†“         â†“
        ğŸŸ¢        ğŸŸ 
        å¿«é€Ÿ      ä¸­é€Ÿ
         â†“         â†“
        S1 â”€â”€â”€â”€â”€â†’ S2
              ğŸŸ£
            æ…¢é€Ÿè™šçº¿

SATâ†’SR: ç»¿è‰²å¿«é€ŸæµåŠ¨
SRâ†’S1:  ç»¿è‰²å¿«é€ŸæµåŠ¨
SRâ†’S2:  æ©™è‰²ä¸­é€ŸæµåŠ¨
S1â†’S2:  ç´«è‰²æ…¢é€Ÿè™šçº¿æµåŠ¨
```

---

## ğŸ›ï¸ é…ç½®å’Œè°ƒæ•´

### ä¿®æ”¹åŠ¨ç”»é€Ÿåº¦

**åœºæ™¯1: æƒ³è®©æ‰€æœ‰åŠ¨ç”»æ›´å¿«**

```javascript
.arcDashAnimateTime(d => {
    if (d.rssi === 'coop') return 1000;   // 2000 â†’ 1000 (å¿«1å€)
    if (d.rssi === 'high') return 400;    // 800 â†’ 400 (å¿«1å€)
    if (d.rssi === 'low') return 600;     // 1200 â†’ 600 (å¿«1å€)
    return 500;
})
```

**åœºæ™¯2: æƒ³è®©é€Ÿåº¦å·®å¼‚æ›´æ˜æ˜¾**

```javascript
.arcDashAnimateTime(d => {
    if (d.rssi === 'coop') return 3000;   // æ›´æ…¢
    if (d.rssi === 'high') return 500;    // æ›´å¿«
    if (d.rssi === 'low') return 1500;    // ä¿æŒä¸­ç­‰
    return 1000;
})
```

**åœºæ™¯3: ç¦ç”¨æŸäº›é“¾è·¯çš„åŠ¨ç”»**

```javascript
.arcDashAnimateTime(d => {
    if (d.rssi === 'coop') return 2000;   // åä½œé“¾è·¯ä¿æŒåŠ¨ç”»
    if (d.rssi === 'high') return 0;      // é«˜RSSIç¦ç”¨åŠ¨ç”»ï¼ˆé™æ€ï¼‰
    if (d.rssi === 'low') return 1200;    // ä½RSSIä¿æŒåŠ¨ç”»
    return 0;
})
```

### ä¿®æ”¹çº¿æ®µæ ·å¼

**åœºæ™¯1: è®©å®çº¿æ®µæ›´å¯†é›†**

```javascript
.arcDashLength(d => {
    if (d.rssi === 'coop') return 0.5;
    return 0.3;  // 0.4 â†’ 0.3 (çº¿æ®µæ›´çŸ­)
})
.arcDashGap(d => {
    if (d.rssi === 'coop') return 0.2;
    return 0.05;  // 0.1 â†’ 0.05 (é—´éš™æ›´å°)
})
```

**æ•ˆæœ**: `â”â” â”â” â”â” â”â” â”â”` (æ›´å¯†é›†çš„æµåŠ¨)

**åœºæ™¯2: è®©è™šçº¿æ›´è™š**

```javascript
.arcDashLength(d => {
    if (d.rssi === 'coop') return 0.3;  // 0.5 â†’ 0.3 (è™šçº¿æ›´çŸ­)
    return 0.4;
})
.arcDashGap(d => {
    if (d.rssi === 'coop') return 0.3;  // 0.2 â†’ 0.3 (é—´éš™æ›´å¤§)
    return 0.1;
})
```

**æ•ˆæœ**: `- -  - -  - -` (æ›´æ˜æ˜¾çš„è™šçº¿)

### æ·»åŠ æ–°çš„é“¾è·¯ç±»å‹

**åœºæ™¯**: æ·»åŠ "è¶…é«˜é€Ÿ"é“¾è·¯ç±»å‹

1. **å®šä¹‰æ–°ç±»å‹** (åœ¨ topologyLinks ä¸­):
```javascript
{ source: 'SAT', target: 'S1', rssi: 'ultra', label: 'è¶…é«˜é€Ÿé“¾è·¯' }
```

2. **æ·»åŠ é¢œè‰²æ˜ å°„**:
```javascript
const linkColorMap = {
    high: '#00ff00',    // ç»¿è‰²
    low: '#ff6600',     // æ©™è‰²
    coop: '#ff00ff',    // ç´«è‰²
    ultra: '#00ffff'    // é’è‰²ï¼ˆæ–°å¢ï¼‰
};
```

3. **é…ç½®åŠ¨ç”»**:
```javascript
.arcDashAnimateTime(d => {
    if (d.rssi === 'ultra') return 500;   // è¶…å¿«ï¼ˆ0.5ç§’ï¼‰
    if (d.rssi === 'coop') return 2000;
    if (d.rssi === 'high') return 800;
    if (d.rssi === 'low') return 1200;
    return 1000;
})
```

---

## ğŸ§ª æµ‹è¯•å’Œè°ƒè¯•

### æµè§ˆå™¨æ§åˆ¶å°æµ‹è¯•

**æ‰“å¼€å¼€å‘è€…å·¥å…·** (F12) â†’ Console

**æŸ¥çœ‹åŠ¨ç”»å‚æ•°**:
```javascript
// æŸ¥çœ‹æ‰€æœ‰é“¾è·¯çš„åŠ¨ç”»å‘¨æœŸ
document.querySelectorAll('.globe-container').forEach(container => {
    console.log('åŠ¨ç”»å‘¨æœŸ:', container.dataset.animateTime);
});
```

**ä¸´æ—¶ä¿®æ”¹åŠ¨ç”»é€Ÿåº¦** (ä¸éœ€è¦é‡å¯):
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
globe.arcDashAnimateTime(d => 500);  // æ‰€æœ‰é“¾è·¯éƒ½æ”¹ä¸º0.5ç§’
```

### æ€§èƒ½ç›‘æ§

**æ£€æŸ¥åŠ¨ç”»æ€§èƒ½**:
```javascript
// æŸ¥çœ‹å¸§ç‡
setInterval(() => {
    console.log('FPS:', (1000 / performance.now()) * 60);
}, 1000);
```

**åŠ¨ç”»æ€§èƒ½æŒ‡æ ‡**:
- æ­£å¸¸å¸§ç‡: 30-60 FPS
- CPUå ç”¨: <10%
- å†…å­˜å ç”¨: <200MB

**ä¼˜åŒ–å»ºè®®**:
- é“¾è·¯æ•°é‡ <20æ¡: æ— éœ€ä¼˜åŒ–
- é“¾è·¯æ•°é‡ >50æ¡: è€ƒè™‘ç¦ç”¨éƒ¨åˆ†åŠ¨ç”»
- ä½æ€§èƒ½è®¾å¤‡: å¢å¤§åŠ¨ç”»å‘¨æœŸ (å‡æ…¢é€Ÿåº¦)

### è§†è§‰æ•ˆæœéªŒè¯

**éªŒè¯æ¸…å•**:

| æ£€æŸ¥é¡¹ | é¢„æœŸæ•ˆæœ | éªŒè¯æ–¹æ³• |
|--------|----------|----------|
| âœ… ç»¿è‰²é“¾è·¯æµåŠ¨ | å¿«é€ŸæµåŠ¨ (0.8ç§’) | è§‚å¯Ÿç»¿è‰²é“¾è·¯ï¼Œè®¡æ—¶ |
| âœ… æ©™è‰²é“¾è·¯æµåŠ¨ | ä¸­é€ŸæµåŠ¨ (1.2ç§’) | å¯¹æ¯”ç»¿è‰²é“¾è·¯ï¼Œæ˜æ˜¾æ›´æ…¢ |
| âœ… ç´«è‰²è™šçº¿æµåŠ¨ | æ…¢é€Ÿè™šçº¿ (2.0ç§’) | è™šçº¿æ ·å¼ï¼Œæœ€æ…¢ |
| âœ… æ–¹å‘æ­£ç¡® | source â†’ target | æµå‘åº”è¯¥ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ |
| âœ… é€Ÿåº¦ä¸€è‡´ | åŒç±»å‹é“¾è·¯é€Ÿåº¦ç›¸åŒ | å¯¹æ¯”å¤šæ¡ç›¸åŒç±»å‹é“¾è·¯ |

---

## âš™ï¸ é«˜çº§é…ç½®

### æ ¹æ®é“¾è·¯é•¿åº¦è°ƒæ•´é€Ÿåº¦

**éœ€æ±‚**: é•¿é“¾è·¯æµåŠ¨å¾—æ…¢ä¸€äº›ï¼ŒçŸ­é“¾è·¯æµåŠ¨å¾—å¿«ä¸€äº›

```javascript
.arcDashAnimateTime(d => {
    // è®¡ç®—é“¾è·¯é•¿åº¦
    const sourceNode = nodeConfigs[d.source];
    const targetNode = nodeConfigs[d.target];
    const latDiff = Math.abs(sourceNode.lat - targetNode.lat);
    const lonDiff = Math.abs(sourceNode.lon - targetNode.lon);
    const distance = Math.sqrt(latDiff * latDiff + lonDiff * lonDiff);

    // åŸºç¡€é€Ÿåº¦
    let baseTime = 800;
    if (d.rssi === 'low') baseTime = 1200;
    if (d.rssi === 'coop') baseTime = 2000;

    // æ ¹æ®è·ç¦»è°ƒæ•´
    return baseTime * (1 + distance / 50);  // è·ç¦»è¶Šè¿œè¶Šæ…¢
})
```

### æ·»åŠ éšæœºæ³¢åŠ¨æ•ˆæœ

**éœ€æ±‚**: æ¨¡æ‹ŸçœŸå®ç½‘ç»œçš„é€Ÿåº¦æ³¢åŠ¨

```javascript
.arcDashAnimateTime(d => {
    let baseTime;
    if (d.rssi === 'coop') baseTime = 2000;
    else if (d.rssi === 'high') baseTime = 800;
    else if (d.rssi === 'low') baseTime = 1200;
    else baseTime = 1000;

    // æ·»åŠ Â±10%çš„éšæœºæ³¢åŠ¨
    const variation = baseTime * 0.1 * (Math.random() - 0.5) * 2;
    return baseTime + variation;
})
```

### é˜¶æ¢¯å¼é€Ÿåº¦å˜åŒ–

**éœ€æ±‚**: ä¿¡å·å¼ºåº¦åˆ†çº§æ›´ç»†è‡´

```javascript
.arcDashAnimateTime(d => {
    // å‡è®¾æœ‰ä¿¡å·å¼ºåº¦å€¼ 0-100
    const signalStrength = d.signalStrength || 50;

    if (signalStrength >= 80) return 600;   // æå¼º
    if (signalStrength >= 60) return 800;   // å¼º
    if (signalStrength >= 40) return 1000;  // ä¸­ç­‰
    if (signalStrength >= 20) return 1400;  // å¼±
    return 2000;  // æå¼±
})
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1: åŠ¨ç”»ä¸æµåŠ¨

**ç—‡çŠ¶**: é“¾è·¯æ˜¾ç¤ºä¸ºé™æ€å®çº¿ï¼Œæ²¡æœ‰æµåŠ¨æ•ˆæœ

**å¯èƒ½åŸå› **:
1. `arcDashAnimateTime` è¿”å› 0
2. `arcDashLength` è¿”å› 1ï¼ˆæ•´æ®µå®çº¿ï¼‰
3. JavaScripté”™è¯¯å¯¼è‡´é…ç½®æœªç”Ÿæ•ˆ

**æ£€æŸ¥æ–¹æ³•**:
```javascript
// æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹
console.log(globe.arcDashAnimateTime());
console.log(globe.arcDashLength());
```

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// ç¡®ä¿è¿”å›æ­£ç¡®çš„å€¼
.arcDashAnimateTime(d => {
    console.log('åŠ¨ç”»æ—¶é—´:', d.rssi, 'â†’', è¿”å›å€¼);  // è°ƒè¯•æ—¥å¿—
    return å€¼ > 0 ? å€¼ : 1000;  // ç¡®ä¿ä¸ä¸º0
})
```

### é—®é¢˜2: æ‰€æœ‰é“¾è·¯é€Ÿåº¦ç›¸åŒ

**ç—‡çŠ¶**: ç»¿è‰²ã€æ©™è‰²ã€ç´«è‰²é“¾è·¯æµåŠ¨é€Ÿåº¦ä¸€æ ·

**å¯èƒ½åŸå› **:
1. `d.rssi` å€¼ä¸æ­£ç¡®
2. æ¡ä»¶åˆ¤æ–­é€»è¾‘é”™è¯¯

**æ£€æŸ¥æ–¹æ³•**:
```javascript
.arcDashAnimateTime(d => {
    console.log('é“¾è·¯:', d.source, 'â†’', d.target, 'RSSI:', d.rssi);
    // æŸ¥çœ‹å®é™…çš„ rssi å€¼
    // ...
})
```

**è§£å†³æ–¹æ¡ˆ**:
```javascript
.arcDashAnimateTime(d => {
    // ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰
    if (d.rssi === 'coop') return 2000;   // âœ“ ä½¿ç”¨ ===
    if (d.rssi == 'high') return 800;     // âœ— å¯èƒ½åŒ¹é…é”™è¯¯
    // ...
})
```

### é—®é¢˜3: åŠ¨ç”»å¤ªå¡é¡¿

**ç—‡çŠ¶**: æµåŠ¨ä¸æµç•…ï¼Œæœ‰æ˜æ˜¾çš„è·³å¸§

**å¯èƒ½åŸå› **:
1. é“¾è·¯æ•°é‡è¿‡å¤š
2. å…¶ä»–åŠ¨ç”»/æ¸²æŸ“æ¶ˆè€—æ€§èƒ½
3. è®¾å¤‡æ€§èƒ½ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**:
```javascript
// æ–¹æ¡ˆ1: å¢å¤§åŠ¨ç”»å‘¨æœŸï¼ˆå‡æ…¢é€Ÿåº¦ï¼Œé™ä½è®¡ç®—é‡ï¼‰
.arcDashAnimateTime(d => {
    if (d.rssi === 'coop') return 3000;   // 2000 â†’ 3000
    if (d.rssi === 'high') return 1200;   // 800 â†’ 1200
    if (d.rssi === 'low') return 1800;    // 1200 â†’ 1800
    return 1500;
})

// æ–¹æ¡ˆ2: ç¦ç”¨éƒ¨åˆ†é“¾è·¯åŠ¨ç”»
.arcDashAnimateTime(d => {
    // åªè®©åä½œé“¾è·¯æœ‰åŠ¨ç”»
    if (d.rssi === 'coop') return 2000;
    return 0;  // å…¶ä»–é“¾è·¯é™æ€æ˜¾ç¤º
})
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

### Globe.GL API æ–‡æ¡£

**å®˜æ–¹æ–‡æ¡£**: https://github.com/vasturiano/globe.gl

**ç›¸å…³API**:
- `.arcsData()` - è®¾ç½®å¼§çº¿æ•°æ®
- `.arcDashLength()` - çº¿æ®µé•¿åº¦
- `.arcDashGap()` - çº¿æ®µé—´éš™
- `.arcDashAnimateTime()` - åŠ¨ç”»å‘¨æœŸ
- `.arcDashInitialGap()` - åˆå§‹åç§»
- `.arcColor()` - çº¿æ¡é¢œè‰²
- `.arcStroke()` - çº¿æ¡ç²—ç»†

### åŠ¨ç”»åŸç†

**CSS Dash Array åŸç†**:
```css
/* SVG/Canvas è™šçº¿åŠ¨ç”» */
stroke-dasharray: 10 5;    /* 10pxå®çº¿, 5pxé—´éš™ */
stroke-dashoffset: 0;      /* èµ·å§‹åç§» */
animation: dash 1s linear infinite;

@keyframes dash {
    to { stroke-dashoffset: -15; }  /* ç§»åŠ¨ä¸€ä¸ªå®Œæ•´å‘¨æœŸ */
}
```

**Globe.GL å®ç°**:
- ä½¿ç”¨ Three.js LineDashedMaterial
- é€šè¿‡ dashSize å’Œ gapSize æ§åˆ¶çº¿æ®µ
- é€šè¿‡æ›´æ–° offset å®ç°åŠ¨ç”»

---

## ğŸ“ æ€»ç»“

### å…³é”®è¦ç‚¹

1. âœ… æ‰€æœ‰é“¾è·¯éƒ½æœ‰æµåŠ¨åŠ¨ç”»
2. âœ… é€Ÿåº¦åæ˜ ä¿¡å·è´¨é‡ï¼ˆå¿«=å¥½ï¼Œæ…¢=å·®ï¼‰
3. âœ… ä¸‰ç§æ ·å¼ï¼šç»¿è‰²å¿«ã€æ©™è‰²ä¸­ã€ç´«è‰²æ…¢
4. âœ… ä½¿ç”¨ Globe.GL çš„ arcDash ç³»åˆ—API
5. âœ… ä¿®æ”¹ä¸¤ä¸ªHTMLæ–‡ä»¶ä¿æŒåŒæ­¥

### é…ç½®æ–‡ä»¶

```
distributed-demo/frontend/
â”œâ”€â”€ control-panel/index.html  (ç¬¬664-679è¡Œ) â­
â””â”€â”€ node-view/index.html      (ç¬¬707-722è¡Œ) â­
```

### å¿«é€Ÿä¿®æ”¹æµç¨‹

```
1. ç¼–è¾‘åŠ¨ç”»å‚æ•°
   â””â”€ .arcDashAnimateTime() ä¸­çš„æ¯«ç§’å€¼

2. ä¿æŒä¸¤ä¸ªæ–‡ä»¶åŒæ­¥
   â””â”€ control-panel å’Œ node-view

3. é‡å¯æœåŠ¡å™¨
   â””â”€ ./test_local.sh restart

4. éªŒè¯æ•ˆæœ
   â””â”€ è§‚å¯ŸæµåŠ¨é€Ÿåº¦å’Œæ–¹å‘
```

---

**æ–‡æ¡£ä½œè€…**: Claude AI Assistant
**æœ€åæ›´æ–°**: 2025-11-20
**ç‰ˆæœ¬**: v1.0
**çŠ¶æ€**: âœ… å®Œæ•´
