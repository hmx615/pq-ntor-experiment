{
  "topology_id": 9,
  "topology_name": "Z3 Down - T用户协作下行",
  "noma_config_ref": "/home/ccc/pq-ntor-experiment/sagin-experiments/noma-topologies/configs/topology_09_*.json",
  "description": "Z3 Down - T用户协作下行 - downlink",
  "physical_topology": {
    "links": [
      {
        "source": "SAT",
        "target": "UAV1",
        "rssi": "high"
      },
      {
        "source": "UAV1",
        "target": "Ground1",
        "rssi": "high"
      },
      {
        "source": "UAV1",
        "target": "Ground2",
        "rssi": "low"
      },
      {
        "source": "Ground1",
        "target": "Ground2",
        "rssi": "coop"
      }
    ],
    "direction": "downlink"
  },
  "tor_circuit_mapping": {
    "description": "3-hop Tor circuit mapped to SAGIN nodes",
    "circuit_path": [
      "Client",
      "Guard",
      "Middle",
      "Exit",
      "Target"
    ],
    "roles": {
      "client": {
        "sagin_node": "Ground2",
        "node_type": "terminal",
        "ip": "localhost",
        "executable": "./client"
      },
      "guard": {
        "sagin_node": "SAT",
        "node_type": "satellite",
        "ip": "localhost",
        "port": 6001,
        "executable": "./relay",
        "args": [
          "-r",
          "guard",
          "-p",
          "6001"
        ]
      },
      "middle": {
        "sagin_node": "SAT",
        "node_type": "satellite",
        "ip": "localhost",
        "port": 6002,
        "executable": "./relay",
        "args": [
          "-r",
          "middle",
          "-p",
          "6002"
        ]
      },
      "exit": {
        "sagin_node": "UAV1",
        "node_type": "aircraft",
        "ip": "localhost",
        "port": 6003,
        "executable": "./relay",
        "args": [
          "-r",
          "exit",
          "-p",
          "6003"
        ]
      },
      "directory": {
        "sagin_node": "HUB",
        "node_type": "server",
        "ip": "localhost",
        "port": 5000,
        "executable": "./directory"
      }
    }
  },
  "network_simulation": {
    "method": "linux_tc_netem",
    "interface": "lo",
    "tc_commands": [
      "sudo tc qdisc del dev lo root 2>/dev/null || true",
      "sudo tc qdisc add dev lo root netem delay 2.72ms 1.00ms distribution normal rate 29.84mbit loss 0.50%"
    ],
    "aggregate_params": {
      "delay_ms": 2.72,
      "bandwidth_mbps": 29.84,
      "loss_percent": 0.5
    }
  },
  "test_configuration": {
    "timeout_seconds": 60,
    "max_retries": 3,
    "retry_delay_seconds": 2,
    "target_url": "http://127.0.0.1:8000/test.html"
  }
}