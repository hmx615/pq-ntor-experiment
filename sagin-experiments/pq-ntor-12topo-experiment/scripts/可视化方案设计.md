# Classic vs PQ-NTOR 数据可视化方案

## 📊 可视化目标

1. **清晰对比**: 一眼看出Classic和PQ的性能差异
2. **避免拥挤**: 12个拓扑不要挤在一张图里
3. **突出重点**: 重点展示关键发现
4. **符合论文**: 适合学术论文的风格

---

## 🎨 推荐方案：5张图表组合

### 图1: 算法性能对比（横向条形图）⭐
**目的**: 展示握手性能的巨大差异

```
握手时间对比 (μs)
Classic NTOR  ████████████████  155.85
PQ-NTOR      ███               30.71
             0    50   100  150  200

消息大小对比 (bytes)
Classic NTOR  █                 116
PQ-NTOR      █████████████████  1620
             0   500  1000 1500 2000
```

**特点**:
- 简洁明了，突出PQ快5倍
- 同时展示消息大小的代价
- 适合放在论文靠前位置

**实现**: matplotlib horizontal bar chart

---

### 图2: 电路建立时间散点图（分组）⭐⭐⭐
**目的**: 证明网络延迟主导效应

```
电路建立时间 (ms)
250 ┤
    │                        ●●  Classic
200 ┤                    ●●  ●●  PQ (完全重合)
    │                ●●
150 ┤        ●●  ●●
    │    ●●
100 ┤●●
    │
50  ┤
    └───────────────────────────────
     低延迟    中延迟    高延迟
    (15-20ms)(22-28ms)(30-40ms)
```

**特点**:
- 按延迟分组，减少视觉混乱
- 两条线完全重合，证明无差异
- 横轴用网络延迟范围而非拓扑ID

**分组**:
- 低延迟组（4个）: Topo 01, 03, 05, 06
- 中延迟组（4个）: Topo 02, 04, 07, 09
- 高延迟组（4个）: Topo 08, 10, 11, 12

**实现**: matplotlib scatter plot with grouping

---

### 图3: 端到端性能分组箱线图⭐⭐
**目的**: 展示性能分布和差异

```
端到端耗时 (秒)
65 ┤
60 ┤     ┌─┬─┐         ┌─┬─┐
55 ┤  ┌─┬┴─┴─┤      ┌─┬┴─┴─┤
50 ┤  └─┴─────┘      └─┴─────┘
   └──────────────────────────
     低延迟组  中延迟组  高延迟组
     Classic   PQ      Classic PQ
```

**特点**:
- 箱线图展示分布，比单点更有说服力
- 按延迟分组，每组4个拓扑的数据
- 可以看出Classic波动更大

**实现**: matplotlib box plot with grouping

---

### 图4: 性能差异热力图⭐⭐⭐
**目的**: 全面展示12拓扑的多维度对比

```
         Classic  PQ   差异%  成功率  网络条件
Topo01   56.3    53.8  +4.7%  100%   20ms/35M/1.25%
Topo02   56.3    53.8  +4.7%  100%   25ms/40M/0.8%
...
Topo12   56.4    56.5  -0.2%  100%   32ms/30M/1.6%

颜色编码:
- 绿色: 差异<5% (性能接近)
- 黄色: 差异5-10% (有差异)
- 红色: 差异>10% (明显差异)
```

**特点**:
- 一张图展示所有拓扑信息
- 颜色编码直观
- 适合作为补充材料

**实现**: seaborn heatmap

---

### 图5: 性能vs网络参数散点图⭐
**目的**: 分析性能差异的影响因素

```
Classic-PQ差异 (%) vs 网络延迟 (ms)
15% ┤              ●
    │           ●     ●
10% ┤        ●
    │     ●  ●
5%  ┤  ●●●●
    │
0%  ┤           ●
    └─────────────────────
     15   20   25   30   35   40
          网络延迟 (ms)

趋势: 延迟越高，差异越大（但仍<15%）
```

**特点**:
- 探索性分析
- 展示延迟与性能差异的关系
- 可选图表，用于讨论部分

**实现**: matplotlib scatter plot with trend line

---

## 🎯 论文推荐方案

### 正文（3张图）

**图1**: 算法性能对比（横向条形图）
- 位置: 5.2节 算法性能评估
- 作用: 展示PQ快5倍但消息大14倍

**图2**: 电路建立时间散点图（分组）
- 位置: 5.3节 SAGIN网络性能
- 作用: 证明网络延迟主导效应（核心图表）

**图3**: 端到端性能分组箱线图
- 位置: 5.3节 SAGIN网络性能
- 作用: 展示端到端性能分布

### 补充材料（2张图）

**图4**: 性能差异热力图
- 展示完整12拓扑数据

**图5**: 性能vs网络参数散点图
- 探索性分析

---

## 🛠️ 实现方案

### 方案A: Python matplotlib + seaborn（推荐）

**优点**:
- 灵活可控，样式专业
- 生成矢量图（PDF/SVG）
- 可自定义论文风格

**代码结构**:
```python
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

# 设置论文风格
plt.style.use('seaborn-paper')
plt.rcParams['font.size'] = 10
plt.rcParams['font.family'] = 'Times New Roman'

# 图1: 算法性能对比
def plot_algorithm_performance():
    # 横向条形图
    pass

# 图2: 电路建立时间（分组）
def plot_circuit_build_time():
    # 散点图，按延迟分组
    pass

# 图3: 端到端性能（箱线图）
def plot_e2e_performance():
    # 分组箱线图
    pass

# 图4: 热力图
def plot_heatmap():
    # seaborn heatmap
    pass

# 图5: 散点图
def plot_scatter_analysis():
    # 性能差异 vs 网络参数
    pass
```

### 方案B: 在线工具（快速原型）

**工具**:
- Plotly: 交互式图表
- Chart.js: 网页展示
- Excel/Numbers: 快速预览

**适用场景**: 快速看效果，最终用Python重新绘制

---

## 📐 图表尺寸建议

### 单栏图（论文单栏宽度）
- 宽度: 3.5英寸 (88.9mm)
- 高度: 2.5-3英寸
- DPI: 300
- 格式: PDF（矢量）

### 双栏图（论文双栏宽度）
- 宽度: 7英寸 (177.8mm)
- 高度: 3-4英寸
- DPI: 300
- 格式: PDF（矢量）

### 推荐布局
- 图1: 单栏（横向条形图不需要太宽）
- 图2: 双栏（需要展示完整数据）
- 图3: 双栏（箱线图需要空间）
- 图4: 双栏（热力图）
- 图5: 单栏（散点图）

---

## 🎨 配色方案

### 论文友好配色

**Classic NTOR**:
- 颜色: `#2E86AB` (蓝色)
- 原因: 传统、稳重

**PQ-NTOR**:
- 颜色: `#A23B72` (紫红)
- 原因: 创新、量子

**差异高亮**:
- 小差异(<5%): `#52B788` (绿)
- 中差异(5-10%): `#F4A261` (黄)
- 大差异(>10%): `#E76F51` (红)

**灰度打印兼容**:
- Classic: 实线
- PQ: 虚线
- 图案填充代替颜色

---

## 💡 创新可视化idea

### Idea 1: 雷达图（多维度对比）
```
      性能
        ^
        |
安全 ←─┼─→ 消息
        |
      可靠
```
- Classic: 蓝色多边形
- PQ: 红色多边形
- 维度: 性能、安全、消息、可靠、部署

### Idea 2: 瀑布图（时间分解）
```
总耗时
├─ 电路建立 (相同)
├─ HTTP请求 (相同)
├─ 数据传输 (Classic略慢)
└─ 处理开销 (相同)
```

### Idea 3: 3D气泡图
- X轴: 网络延迟
- Y轴: 性能差异
- 气泡大小: 丢包率
- 颜色: 带宽

**建议**: 这些创新图表可选，不作为主图

---

## 🚀 实施计划

### Phase 1: 快速原型（1小时）
- [ ] 读取JSON数据
- [ ] 生成3张核心图表（图1-3）
- [ ] 检查效果，调整参数

### Phase 2: 精细调整（1-2小时）
- [ ] 优化样式（字体、颜色、标签）
- [ ] 生成高分辨率PDF
- [ ] 添加图例和注释

### Phase 3: 补充图表（可选，1小时）
- [ ] 生成热力图（图4）
- [ ] 生成散点图（图5）
- [ ] 准备补充材料

---

## 📊 我的推荐

**最佳方案**: 图1 + 图2 + 图3

**理由**:
1. **图1（算法对比）**: 简洁有力，展示核心优势
2. **图2（电路建立）**: 最重要！证明网络延迟主导
3. **图3（端到端箱线图）**: 展示统计分布，增加可信度

**可选**: 图4作为补充材料

**跳过**: 图5（分析性图表，可在讨论中文字说明）

---

**下一步**: 我可以帮你实现这些图表，需要我现在生成吗？
